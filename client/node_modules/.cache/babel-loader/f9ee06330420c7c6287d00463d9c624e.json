{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import DangerFeedback from\"../Feedback/DangerFeedback\";import LoadingSpinnerPrimaryLongBtn from\"../Spinners/LoadingSpinnerPrimaryLongBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=/*#__PURE__*/function(_Component){_inherits(SignIn,_Component);var _super=_createSuper(SignIn);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_super.call(this,props);_this.state={email:'',password:'',toggle_loading:false,toggle_error_feedback:false,feedback_text:''};_this.handleInputChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_this.setState({toggle_loading:true});_context.next=4;return axios({method:'post',url:'http://localhost:3001/api/signIn',data:{email:_this.state.email,password:_this.state.password}}).then(function(response){_this.props.loginCallback(response.data);_this.setState({toggle_error_feedback:false});}).catch(function(error){_this.setState({toggle_loading:false});if(error.response){console.log(error.response.data.Error);console.log(error.response.status);_this.setState({feedback_text:error.response.data.Error});_this.setState({toggle_error_feedback:true});}else if(error.request){console.log(error.request);}else{console.log('Error',error.message);}});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"login_div\",className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Sign in to store\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"http://localhost:3001/auth/google\",className:\"google-btn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"google-icon-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{className:\"google-icon\",src:\"/btn_google_light_normal_ios.svg\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"btn-text\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Sign in with google\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"separator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"or\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form-signin\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text mt-2\",id:\"basic-addon1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"mail\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:this.handleInputChange,className:\"form-control mt-2\",placeholder:\"Email\",name:\"email\",required:\"*\",autoFocus:\"\",\"aria-describedby\":\"basic-addon1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text mt-2\",id:\"basic-addon1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"vpn_key\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"Password\",onChange:this.handleInputChange,className:\"form-control mt-2\",pattern:\"^(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{8,}\",title:\"Password must contain at least 1 upper and lower case letter, 1 number and\\r be at least 8 characters long.\",placeholder:\"Password\",name:\"password\",required:\"*\",autoFocus:\"\"})]})]}),this.state.toggle_loading?/*#__PURE__*/_jsx(LoadingSpinnerPrimaryLongBtn,{}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",children:\"Sign in!\"}),this.state.toggle_error_feedback&&/*#__PURE__*/_jsx(DangerFeedback,{feedback_error_text:this.state.feedback_text})]})})})]});}}]);return SignIn;}(Component);export default SignIn;","map":{"version":3,"sources":["C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/src/Components/Authentication/SignIn.jsx"],"names":["React","Component","axios","DangerFeedback","LoadingSpinnerPrimaryLongBtn","SignIn","props","state","email","password","toggle_loading","toggle_error_feedback","feedback_text","handleInputChange","event","target","value","name","setState","handleSubmit","preventDefault","method","url","data","then","response","loginCallback","catch","error","console","log","Error","status","request","message","bind"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport DangerFeedback from \"../Feedback/DangerFeedback\";\r\nimport LoadingSpinnerPrimaryLongBtn from \"../Spinners/LoadingSpinnerPrimaryLongBtn\";\r\n\r\nclass SignIn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        toggle_loading: false,\r\n        toggle_error_feedback: false,\r\n        feedback_text: '',\r\n    };\r\n\r\n    handleInputChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        this.setState({toggle_loading: true});\r\n        await axios({\r\n            method: 'post',\r\n            url: 'http://localhost:3001/api/signIn',\r\n            data: {\r\n                email: this.state.email,\r\n                password: this.state.password,\r\n            }\r\n        }).then(response => {\r\n            this.props.loginCallback(response.data);\r\n            this.setState({toggle_error_feedback: false});\r\n        }).catch(error => {\r\n            this.setState({toggle_loading: false});\r\n            if (error.response) {\r\n                console.log(error.response.data.Error);\r\n                console.log(error.response.status);\r\n                this.setState({feedback_text: error.response.data.Error});\r\n                this.setState({toggle_error_feedback: true});\r\n            } else if (error.request) {\r\n                console.log(error.request);\r\n            } else {\r\n                console.log('Error', error.message);\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"loginContainer\">\r\n                <div id=\"login_div\" className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"text-center mb-4\">\r\n                            <h4>Sign in to store</h4>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row text-center\">\r\n                    <div className=\"col-12\">\r\n                        <a href=\"http://localhost:3001/auth/google\" className=\"google-btn\">\r\n                            <div className=\"google-icon-wrapper\">\r\n                                <img className=\"google-icon\"\r\n                                     src=\"/btn_google_light_normal_ios.svg\"/>\r\n                            </div>\r\n                            <p className=\"btn-text\"><b>Sign in with google</b></p>\r\n                        </a>\r\n                        <div className=\"separator\">\r\n                            <div className=\"line\"/>\r\n                            <h5>or</h5>\r\n                            <div className=\"line\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-2\">\r\n                    <div className=\"col-md-12\">\r\n                        <form onSubmit={this.handleSubmit} className=\"form-signin\">\r\n                            <div className=\"form-label-group\">\r\n                                <div className=\"input-group\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <div className=\"input-group-text mt-2\" id=\"basic-addon1\">\r\n                                            <i className=\"material-icons\">mail</i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <input type=\"email\" onChange={this.handleInputChange} className=\"form-control mt-2\"\r\n                                           placeholder=\"Email\" name=\"email\" required=\"*\" autoFocus=\"\"\r\n                                           aria-describedby=\"basic-addon1\"/>\r\n                                </div>\r\n                                <div className=\"input-group mb-2\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <div className=\"input-group-text mt-2\" id=\"basic-addon1\">\r\n                                            <i className=\"material-icons\">vpn_key</i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <input type=\"Password\" onChange={this.handleInputChange}\r\n                                           className=\"form-control mt-2\"\r\n                                           pattern=\"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}\"\r\n                                           title=\"Password must contain at least 1 upper and lower case letter, 1 number and\r\n                                        be at least 8 characters long.\"\r\n                                           placeholder=\"Password\" name=\"password\" required=\"*\" autoFocus=\"\"/>\r\n                                </div>\r\n                            </div>\r\n                            {this.state.toggle_loading ? <LoadingSpinnerPrimaryLongBtn/> :\r\n                                <button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n                                    Sign in!\r\n                                </button>}\r\n                            {this.state.toggle_error_feedback &&\r\n                            <DangerFeedback feedback_error_text={this.state.feedback_text}/>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Footer from\"../footer\";import AdminAddNewProduct from\"./AdminAddNewProduct\";import AdminAddNewEmployee from\"./AdminAddNewEmployee\";import AdminRestockProducts from\"./AdminRestockProducts\";import AdminEditProduct from\"./AdminEditProduct\";import AdminEditEmployee from\"./AdminEditEmployee\";import axios from\"axios\";import DangerFeedback from\"../Feedback/DangerFeedback\";import ExitToAppIcon from'@material-ui/icons/ExitToApp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminPage=/*#__PURE__*/function(_Component){_inherits(AdminPage,_Component);var _super=_createSuper(AdminPage);function AdminPage(props){var _this;_classCallCheck(this,AdminPage);_this=_super.call(this,props);_this.state={toggle_restock:true,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:false,logout_loading:false,toggle_error_feedback:false,feedback_text:''};_this.toggleRestock=function(){_this.setState({toggle_restock:true,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:false});};_this.toggleEditProduct=function(){_this.setState({toggle_restock:false,toggle_edit_product:true,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:false});};_this.toggleEditEmployee=function(){_this.setState({toggle_restock:false,toggle_edit_product:false,toggle_edit_employee:true,toggle_new_employee:false,toggle_new_product:false});};_this.toggleNewAdmin=function(){_this.setState({toggle_restock:false,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:true,toggle_new_product:false});};_this.toggleNewProduct=function(){_this.setState({toggle_restock:false,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:true});};_this.handleLogout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({logout_loading:true});_context.next=3;return axios({method:'post',url:'https://localhost:3001/admin/logout',data:{}}).then(function(){_this.props.logoutCallback();_this.setState({logout_loading:false});}).catch(function(err){_this.setState({logout_loading:false,toggle_error_feedback:true,feedback_text:err.data.Error});});case 3:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(AdminPage,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fillPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2 bg-secondary text-center fillColumn\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mt-5\",children:\"Actions:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleRestock,className:\"btn btn-light btn-md m-2\",children:\"Restock\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleEditProduct,className:\"btn btn-light btn-md m-2\",children:\"Edit Product\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleEditEmployee,className:\"btn btn-light btn-md m-2\",children:\"Edit Employee\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleNewProduct,className:\"btn btn-light btn-md m-2\",children:\"Add New Product\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleNewAdmin,className:\"btn btn-light btn-md m-2\",children:\"Add New Admin\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.handleLogout,className:\"btn btn-danger btn-md m-2\",children:[\"Logout \",/*#__PURE__*/_jsx(ExitToAppIcon,{})]}),this.state.toggle_error_feedback&&/*#__PURE__*/_jsx(DangerFeedback,{feedback_error_text:this.state.feedback_text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10\",children:[this.state.toggle_restock&&/*#__PURE__*/_jsx(AdminRestockProducts,{}),this.state.toggle_edit_product&&/*#__PURE__*/_jsx(AdminEditProduct,{}),this.state.toggle_edit_employee&&/*#__PURE__*/_jsx(AdminEditEmployee,{}),this.state.toggle_new_product&&/*#__PURE__*/_jsx(AdminAddNewProduct,{}),this.state.toggle_new_employee&&/*#__PURE__*/_jsx(AdminAddNewEmployee,{})]})]})}),/*#__PURE__*/_jsx(Footer,{toggle_admin:this.props.toggle_admin})]});}}]);return AdminPage;}(Component);export default AdminPage;","map":{"version":3,"sources":["C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/src/Components/Admin/AdminPage.jsx"],"names":["React","Component","Footer","AdminAddNewProduct","AdminAddNewEmployee","AdminRestockProducts","AdminEditProduct","AdminEditEmployee","axios","DangerFeedback","ExitToAppIcon","AdminPage","props","state","toggle_restock","toggle_edit_product","toggle_edit_employee","toggle_new_employee","toggle_new_product","logout_loading","toggle_error_feedback","feedback_text","toggleRestock","setState","toggleEditProduct","toggleEditEmployee","toggleNewAdmin","toggleNewProduct","handleLogout","method","url","data","then","logoutCallback","catch","err","Error","toggle_admin"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport Footer from \"../footer\";\r\nimport AdminAddNewProduct from \"./AdminAddNewProduct\";\r\nimport AdminAddNewEmployee from \"./AdminAddNewEmployee\";\r\nimport AdminRestockProducts from \"./AdminRestockProducts\";\r\nimport AdminEditProduct from \"./AdminEditProduct\";\r\nimport AdminEditEmployee from \"./AdminEditEmployee\";\r\nimport axios from \"axios\";\r\nimport DangerFeedback from \"../Feedback/DangerFeedback\";\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nclass AdminPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n        toggle_restock: true,\r\n        toggle_edit_product: false,\r\n        toggle_edit_employee: false,\r\n        toggle_new_employee: false,\r\n        toggle_new_product: false,\r\n        logout_loading: false,\r\n        toggle_error_feedback: false,\r\n        feedback_text: '',\r\n    };\r\n\r\n    // Toggle windows\r\n    toggleRestock = () => {\r\n        this.setState({\r\n            toggle_restock: true,\r\n            toggle_edit_product: false,\r\n            toggle_edit_employee: false,\r\n            toggle_new_employee: false,\r\n            toggle_new_product: false\r\n        })\r\n    };\r\n    toggleEditProduct = () => {\r\n        this.setState({\r\n            toggle_restock: false,\r\n            toggle_edit_product: true,\r\n            toggle_edit_employee: false,\r\n            toggle_new_employee: false,\r\n            toggle_new_product: false\r\n        })\r\n    };\r\n    toggleEditEmployee = () => {\r\n        this.setState({\r\n            toggle_restock: false,\r\n            toggle_edit_product: false,\r\n            toggle_edit_employee: true,\r\n            toggle_new_employee: false,\r\n            toggle_new_product: false\r\n        })\r\n    };\r\n    toggleNewAdmin = () => {\r\n        this.setState({\r\n            toggle_restock: false,\r\n            toggle_edit_product: false,\r\n            toggle_edit_employee: false,\r\n            toggle_new_employee: true,\r\n            toggle_new_product: false\r\n        })\r\n    };\r\n    toggleNewProduct = () => {\r\n        this.setState({\r\n            toggle_restock: false,\r\n            toggle_edit_product: false,\r\n            toggle_edit_employee: false,\r\n            toggle_new_employee: false,\r\n            toggle_new_product: true\r\n        })\r\n    };\r\n    handleLogout = async () => {\r\n        this.setState({logout_loading: true})\r\n        await axios({\r\n            method: 'post',\r\n            url: 'https://localhost:3001/admin/logout',\r\n            data: {}\r\n        }).then(() => {\r\n            this.props.logoutCallback();\r\n            this.setState({logout_loading: false})\r\n        }).catch(err => {\r\n            this.setState({\r\n                logout_loading: false,\r\n                toggle_error_feedback: true,\r\n                feedback_text: err.data.Error,\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"fillPage\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-2 bg-secondary text-center fillColumn\">\r\n                            <h3 className=\"mt-5\">Actions:</h3>\r\n                            <button onClick={this.toggleRestock} className=\"btn btn-light btn-md m-2\">\r\n                                Restock\r\n                            </button>\r\n                            <br/>\r\n                            <button onClick={this.toggleEditProduct} className=\"btn btn-light btn-md m-2\">\r\n                                Edit Product\r\n                            </button>\r\n                            <br/>\r\n                            <button onClick={this.toggleEditEmployee} className=\"btn btn-light btn-md m-2\">\r\n                                Edit Employee\r\n                            </button>\r\n                            <br/>\r\n                            <button onClick={this.toggleNewProduct} className=\"btn btn-light btn-md m-2\">\r\n                                Add New Product\r\n                            </button>\r\n                            <br/>\r\n                            <button onClick={this.toggleNewAdmin} className=\"btn btn-light btn-md m-2\">\r\n                                Add New Admin\r\n                            </button>\r\n                            <br/>\r\n                            <button onClick={this.handleLogout} className=\"btn btn-danger btn-md m-2\">\r\n                                Logout <ExitToAppIcon/>\r\n                            </button>\r\n                            {this.state.toggle_error_feedback &&\r\n                            <DangerFeedback feedback_error_text={this.state.feedback_text}/>}\r\n                        </div>\r\n                        <div className=\"col-md-10\">\r\n                            {this.state.toggle_restock &&\r\n                            <AdminRestockProducts/>}\r\n                            {this.state.toggle_edit_product &&\r\n                            <AdminEditProduct/>}\r\n                            {this.state.toggle_edit_employee &&\r\n                            <AdminEditEmployee/>}\r\n                            {this.state.toggle_new_product &&\r\n                            <AdminAddNewProduct/>}\r\n                            {this.state.toggle_new_employee &&\r\n                            <AdminAddNewEmployee/>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer toggle_admin={this.props.toggle_admin}/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminPage;"]},"metadata":{},"sourceType":"module"}
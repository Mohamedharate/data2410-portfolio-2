{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Productpage=/*#__PURE__*/function(_Component){_inherits(Productpage,_Component);var _super=_createSuper(Productpage);function Productpage(props){var _this;_classCallCheck(this,Productpage);_this=_super.call(this,props);_this.state={name:\"\",price:0,descriptionLong:\"\"};_this.state={products:[],name:\"\",price:0,description:\"\",itemId:\"\",imageUrl:\"\",email:\"\"};return _this;}_createClass(Productpage,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var that;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:that=this;_context.next=3;return axios({method:\"get\",url:'http://localhost:3001/api/products/get/'+this.props.match.params.itemId}).then(function(response){that.setState({name:response.data.name,price:response.data.price,description:response.data.descriptionLong,image:\"data:image/png;base64,\"+response.data.imageUrl[0].image,itemId:response.data.itemId});}).catch(function(error){if(!error.data){console.log(error.data);}console.log(error);});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"postToCart\",value:function(){var _postToCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(itemId,quantity){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios({method:\"post\",url:'http://localhost:3001/api/cart/addToCart/',data:{product_id:itemId,quantity:quantity}}).then(function(response){console.log(\"data:\",response.data);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));function postToCart(_x,_x2){return _postToCart.apply(this,arguments);}return postToCart;}()},{key:\"render\",value:function render(){var _this2=this;var price=this.state.price;return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-4\",children:\"ShopMet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-group\",children:[/*#__PURE__*/_jsx(Link,{to:\"/category/coffee\",className:\"list-group-item\",children:\"Coffee\"}),/*#__PURE__*/_jsx(Link,{to:\"/category/machines\",className:\"list-group-item\",children:\"Coffee and espresso machines\"}),/*#__PURE__*/_jsx(Link,{to:\"/category/access\",className:\"list-group-item\",children:\"Accessories\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"list-group-item\",children:\"All\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-9\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:this.state.image,alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:this.state.name}),Object.values(price).map(function(p){return/*#__PURE__*/_jsxs(\"h4\",{className:\"price\",children:[\"$\",p]},\"p\");}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:this.state.description}),/*#__PURE__*/_jsx(\"span\",{className:\"text-warning\",children:\"\\u2605 \\u2605 \\u2605 \\u2605 \\u2606\"}),\"4.0 stars\",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-lg btn-success btn-block mt-2\",onClick:function onClick(){return _this2.postToCart(_this2.state.itemId,1);},children:\"Add to cart\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-outline-secondary my-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Product Reviews\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Posted by Anonymous on 3/1/21\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Posted by Anonymous on 3/1/21\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Posted by Anonymous on 3/1/21\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Link,{to:'/addReview/'+this.state.itemId,className:\"btn btn-success\",children:\"Leave a Review\"})]})]})]})]})});}}]);return Productpage;}(Component);export{Productpage as default};","map":{"version":3,"sources":["C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/src/Components/productpage.jsx"],"names":["React","Component","axios","Link","Productpage","props","state","name","price","descriptionLong","products","description","itemId","imageUrl","email","that","method","url","match","params","then","response","setState","data","image","catch","error","console","log","quantity","product_id","Object","values","map","p","postToCart"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport default class Productpage extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: \"\", price: 0, descriptionLong: \"\"};\r\n        this.state = {products: [], name: \"\", price: 0, description: \"\", itemId: \"\", imageUrl: \"\", email: \"\"};\r\n\r\n    }\r\n    async componentDidMount() {\r\n        const that = this;\r\n        await axios({\r\n            method: \"get\",\r\n            url: 'http://localhost:3001/api/products/get/'+this.props.match.params.itemId,\r\n        }).then(function (response) {\r\n            that.setState({name: response.data.name, price: response.data.price,\r\n                description: response.data.descriptionLong,\r\n            image: \"data:image/png;base64,\"+response.data.imageUrl[0].image,\r\n            itemId: response.data.itemId});\r\n        }).catch(function (error) {\r\n            if (!error.data) {\r\n                console.log(error.data)\r\n            }\r\n            console.log(error);\r\n        });\r\n    };\r\n    async postToCart(itemId, quantity){\r\n        await axios({\r\n            method: \"post\",\r\n            url: 'http://localhost:3001/api/cart/addToCart/',\r\n            data: {product_id: itemId, quantity}\r\n        }).then(function (response){\r\n            console.log(\"data:\", response.data);\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { price } = this.state;\r\n        return(\r\n            <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-3\">\r\n                        <h1 className=\"my-4\">ShopMet</h1>\r\n                        <div className=\"list-group\">\r\n                            <Link to=\"/category/coffee\" className=\"list-group-item\">Coffee</Link>\r\n                            <Link to=\"/category/machines\" className=\"list-group-item\">Coffee and espresso machines</Link>\r\n                            <Link to=\"/category/access\" className=\"list-group-item\">Accessories</Link>\r\n                            <Link to=\"/\" className=\"list-group-item\">All</Link>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-9\">\r\n                        <div className=\"card mt-4\">\r\n                            <img className=\"card-img-top\" src={this.state.image} alt=\"...\"/>\r\n                            <div className=\"card-body\">\r\n                                <h3 className=\"card-title\">{this.state.name}</h3>\r\n                                {Object.values(price).map((p) => (<h4 className=\"price\" key=\"p\">${p}</h4> ))}\r\n                                <p className=\"card-text\">{this.state.description}</p>\r\n                                <span className=\"text-warning\">★ ★ ★ ★ ☆</span>\r\n                                4.0 stars\r\n                                <button type=\"submit\" className=\"btn btn-lg btn-success btn-block mt-2\" onClick={() =>this.postToCart(this.state.itemId, 1)}>Add to cart</button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card card-outline-secondary my-4\">\r\n                            <div className=\"card-header\">Product Reviews</div>\r\n                            <div className=\"card-body\">\r\n                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam\r\n                                    inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam\r\n                                    aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.</p>\r\n                                <small className=\"text-muted\">Posted by Anonymous on 3/1/21</small>\r\n                                <hr/>\r\n                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam\r\n                                    inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam\r\n                                    aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.</p>\r\n                                <small className=\"text-muted\">Posted by Anonymous on 3/1/21</small>\r\n                                <hr/>\r\n                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam\r\n                                    inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam\r\n                                    aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.</p>\r\n                                <small className=\"text-muted\">Posted by Anonymous on 3/1/21</small>\r\n                                <hr/>\r\n                                <Link to={'/addReview/'+this.state.itemId} className=\"btn btn-success\" >Leave a Review</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}
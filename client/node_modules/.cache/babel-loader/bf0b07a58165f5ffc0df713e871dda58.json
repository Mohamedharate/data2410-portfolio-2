{"ast":null,"code":"import _regeneratorRuntime from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import FormData from\"form-data\";import DangerFeedback from\"../dangerFeedback\";import SuccessFeedback from\"../successFeedback\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminAddNew=/*#__PURE__*/function(_Component){_inherits(AdminAddNew,_Component);var _super=_createSuper(AdminAddNew);function AdminAddNew(props){var _this;_classCallCheck(this,AdminAddNew);_this=_super.call(this,props);_this.state={imageArray:[],product_name:String,product_price:Number,product_stock:Number,product_category:String,short_description:String,long_description:String,feedback_text:String,toggle_error_feedback:false,toggle_success_feedback:false};_this.handleInputChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this.setState(_defineProperty({},name,value));};_this.handleInputFile=function(event){var file=event.target.files[0];//TODO make this work for a list of pictures.\nvar imageArray=file;_this.setState({imageArray:imageArray});console.log(\"array\",imageArray);//TODO console\n};_this.handleSubmit=function(event){event.preventDefault();var file=_this.state.imageArray;var formdata=new FormData();formdata.append('imageUrl',file);formdata.append('name',_this.state.product_name);formdata.append('descriptionShort',_this.state.short_description);formdata.append('descriptionLong',_this.state.long_description);formdata.append('price',_this.state.product_price);formdata.append('category',_this.state.product_category);formdata.append('quantity',_this.state.product_stock);console.log(formdata);//TODO console\n_this.addProduct(formdata).then();};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleInputFile=_this.handleInputFile.bind(_assertThisInitialized(_this));return _this;}_createClass(AdminAddNew,[{key:\"addProduct\",value:function(){var _addProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(formdata){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:'post',url:'http://localhost:3001/api/products/new',data:formdata}).then(function(res){console.log(res.data.message);_this2.setState({toggle_success_feedback:true,toggle_error_feedback:false,feedback_text:res.data.message});}).catch(function(err){console.log(err);_this2.setState({toggle_success_feedback:false,toggle_error_feedback:true});});case 2:case\"end\":return _context.stop();}}},_callee);}));function addProduct(_x){return _addProduct.apply(this,arguments);}return addProduct;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form-addProduct\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row text-center m-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Product\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row form-label-group m-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"uploadImage\",children:\"Upload Image:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"uploadImg\",children:\"Upload Image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.handleInputFile,type:\"file\",className:\"form-control-file\",id:\"uploadImage\",name:\"imageUrl\",\"aria-describedby\":\"uploadImg\",multiple:true}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-file-label\",htmlFor:\"uploadImage\",children:\"Choose file..\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"img\",{className:\"photo1\",src:this.state.imageArray[0],alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row form-label-group m-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_name\",children:\"Product name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Name\",name:\"product_name\",required:true,autoFocus:\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_price\",children:\"Product price:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:\"$\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Price\",name:\"product_price\",required:true})]}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_stock\",children:\"Product Stock:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Stock\",name:\"product_stock\",required:true,autoFocus:\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"product_category\",onChange:this.handleInputChange,className:\"custom-select my-1 mr-sm-2\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",defaultValue:\"\",children:\"Choose...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Capsules\",children:\"Coffee Capsules\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Beans\",children:\"Coffee Beans\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Filter Ground Coffee\",children:\"Filter Ground Coffee\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Machine\",children:\"Coffee Machine\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Beans\",children:\"Coffee Beans\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"short_description\",children:\"Short Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Short Description\",rows:\"3\",name:\"short_description\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"long_description\",children:\"Long Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Long Description\",rows:\"7\",name:\"long_description\",required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row m-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-lg btn-primary btn-block mt-2\",children:\"Add Product\"})})}),this.state.toggle_error_feedback&&/*#__PURE__*/_jsx(DangerFeedback,{feedback_error_text:this.state.feedback_text}),this.state.toggle_success_feedback&&/*#__PURE__*/_jsx(SuccessFeedback,{feedback_success_text:this.state.feedback_text})]})});}}]);return AdminAddNew;}(Component);export default AdminAddNew;","map":{"version":3,"sources":["C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/src/Components/Admin/AdminAddNew.jsx"],"names":["React","Component","axios","FormData","DangerFeedback","SuccessFeedback","AdminAddNew","props","state","imageArray","product_name","String","product_price","Number","product_stock","product_category","short_description","long_description","feedback_text","toggle_error_feedback","toggle_success_feedback","handleInputChange","event","target","value","name","setState","handleInputFile","file","files","console","log","handleSubmit","preventDefault","formdata","append","addProduct","then","bind","method","url","data","res","message","catch","err"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport FormData from \"form-data\"\r\nimport DangerFeedback from \"../dangerFeedback\";\r\nimport SuccessFeedback from \"../successFeedback\";\r\n\r\nclass AdminAddNew extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this)\r\n        this.handleInputFile = this.handleInputFile.bind(this)\r\n    }\r\n    state = {\r\n        imageArray: [],\r\n        product_name: String,\r\n        product_price: Number,\r\n        product_stock: Number,\r\n        product_category: String,\r\n        short_description: String,\r\n        long_description: String,\r\n        feedback_text: String,\r\n        toggle_error_feedback: false,\r\n        toggle_success_feedback: false,\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    };\r\n\r\n    handleInputFile = event => {\r\n        const file = event.target.files[0]; //TODO make this work for a list of pictures.\r\n\r\n        const imageArray = file\r\n        this.setState({imageArray});\r\n        console.log(\"array\", imageArray); //TODO console\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        let file = this.state.imageArray;\r\n\r\n        let formdata = new FormData();\r\n\r\n        formdata.append('imageUrl', file);\r\n        formdata.append('name', this.state.product_name);\r\n        formdata.append('descriptionShort', this.state.short_description);\r\n        formdata.append('descriptionLong', this.state.long_description);\r\n        formdata.append('price', this.state.product_price);\r\n        formdata.append('category', this.state.product_category);\r\n        formdata.append('quantity', this.state.product_stock);\r\n\r\n        console.log(formdata); //TODO console\r\n\r\n        this.addProduct(formdata).then();\r\n    };\r\n\r\n    async addProduct(formdata) {\r\n        await axios({\r\n            method: 'post',\r\n            url: 'http://localhost:3001/api/products/new',\r\n            data: formdata,\r\n        }).then(res => {\r\n            console.log(res.data.message)\r\n            this.setState({\r\n                toggle_success_feedback: true,\r\n                toggle_error_feedback: false,\r\n                feedback_text: res.data.message,\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n            this.setState({toggle_success_feedback: false, toggle_error_feedback: true})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <form onSubmit={this.handleSubmit} className=\"form-addProduct\">\r\n                    <div className=\"row text-center m-5\">\r\n                        <div className=\"col-12\">\r\n                            <h3>Add New Product</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row form-label-group m-2\">\r\n                        <div className=\"col-6\">\r\n                            <label htmlFor=\"uploadImage\">Upload Image:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\" id=\"uploadImg\">Upload Image</span>\r\n                                </div>\r\n                                <div className=\"custom-file\">\r\n                                    <input onChange={this.handleInputFile} type=\"file\" className=\"form-control-file\"\r\n                                           id=\"uploadImage\"\r\n                                           name=\"imageUrl\" aria-describedby=\"uploadImg\" multiple/>\r\n                                    <label className=\"custom-file-label\"\r\n                                           htmlFor=\"uploadImage\">Choose file..</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <img className=\"photo1\" src={this.state.imageArray[0]} alt=\"\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row form-label-group m-2\">\r\n                        <div className=\"col-sm-6\">\r\n                            <label className=\"mt-2\" htmlFor=\"product_name\">Product name:</label>\r\n                            <input type=\"text\" onChange={this.handleInputChange}\r\n                                   className=\"form-control\" placeholder=\"Name\"\r\n                                   name=\"product_name\" required autoFocus=\"\"/>\r\n                            <label className=\"mt-2\" htmlFor=\"product_price\">Product price:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\">$</span>\r\n                                </div>\r\n                                <input type=\"number\" onChange={this.handleInputChange}\r\n                                       className=\"form-control\" placeholder=\"Price\"\r\n                                       name=\"product_price\" required/>\r\n                            </div>\r\n                            <label className=\"mt-2\" htmlFor=\"product_stock\">Product Stock:</label>\r\n                            <input type=\"number\" onChange={this.handleInputChange}\r\n                                   className=\"form-control\" placeholder=\"Stock\"\r\n                                   name=\"product_stock\" required autoFocus=\"\"/>\r\n                            <label className=\"mt-2\" htmlFor=\"product_category\">Category</label>\r\n                            <select name=\"product_category\" onChange={this.handleInputChange}\r\n                                    className=\"custom-select my-1 mr-sm-2\" required>\r\n                                <option value=\"\" defaultValue=\"\">Choose...</option>\r\n                                <option value=\"Coffee Capsules\">Coffee Capsules</option>\r\n                                <option value=\"Coffee Beans\">Coffee Beans</option>\r\n                                <option value=\"Filter Ground Coffee\">Filter Ground Coffee</option>\r\n                                <option value=\"Coffee Machine\">Coffee Machine</option>\r\n                                <option value=\"Coffee Beans\">Coffee Beans</option>\r\n                                <option value=\"Other\">Other</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-sm-6\">\r\n                            <label className=\"mt-2\" htmlFor=\"short_description\">Short Description:</label>\r\n                            <textarea onChange={this.handleInputChange} className=\"form-control\"\r\n                                      placeholder=\"Short Description\"\r\n                                      rows=\"3\" name=\"short_description\" required/>\r\n                            <label className=\"mt-2\" htmlFor=\"long_description\">Long Description:</label>\r\n                            <textarea onChange={this.handleInputChange} className=\"form-control\"\r\n                                      placeholder=\"Long Description\"\r\n                                      rows=\"7\" name=\"long_description\" required/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row m-2\">\r\n                        <div className=\"col-md-3\">\r\n                            <button type=\"submit\" className=\"btn btn-lg btn-primary btn-block mt-2\">\r\n                                Add Product\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    {this.state.toggle_error_feedback &&\r\n                    <DangerFeedback feedback_error_text={this.state.feedback_text}/>}\r\n                    {this.state.toggle_success_feedback &&\r\n                    <SuccessFeedback feedback_success_text={this.state.feedback_text}/>}\r\n                </form>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminAddNew;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Tanja/IdeaProjects/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Tanja/IdeaProjects/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Tanja/IdeaProjects/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tanja/IdeaProjects/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Tanja/IdeaProjects/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tanja/IdeaProjects/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{Alert}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Orders=/*#__PURE__*/function(_Component){_inherits(Orders,_Component);var _super=_createSuper(Orders);function Orders(props){var _this;_classCallCheck(this,Orders);_this=_super.call(this,props);_this.isAuthenticated=function(){return _this.props.isAuthenticated;};_this.state={user:\"\",orders:[],order_id:0};return _this;}_createClass(Orders,[{key:\"getOrder\",value:function(){var _getOrder=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var that;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:that=this;_context.next=3;return axios({method:\"get\",url:\"http://localhost:3001/api/users/getUser/\"}).then(function(response){that.setState({orders:response.data.orders,order_id:response.data.orders._id,user:response.data});console.log(response.data);}).catch(function(error){console.log(error.data);});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function getOrder(){return _getOrder.apply(this,arguments);}return getOrder;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"orderContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-header\",children:\"Previous orders\"}),!this.state.orders&&/*#__PURE__*/_jsx(Alert,{color:\"info\",children:\"You have no orders. Go shopping!\"}),this.state.orders&&/*#__PURE__*/_jsxs(Alert,{color:\"info\",children:[\"You are logged in as \",this.state.user.firstName,\". Here are your orders.\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:this.state.orders&&this.state.orders.map(function(order,index){return/*#__PURE__*/_jsx(\"div\",{children:order.products.map(function(p,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Name: \",p.name]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Price: $\",p.price]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Date: \",p.date]})]},i);})},index);})})})]})});}}]);return Orders;}(Component);export default Orders;","map":{"version":3,"sources":["C:/Users/Tanja/IdeaProjects/portfolio2/client/src/Components/orders.jsx"],"names":["React","Component","Fragment","axios","Link","Alert","Orders","props","isAuthenticated","state","user","orders","order_id","that","method","url","then","response","setState","data","_id","console","log","catch","error","firstName","map","order","index","products","p","i","name","price","date"],"mappings":"q8BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,KAAR,KAAoB,iBAApB,C,2FAEMC,CAAAA,M,gGAEF,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EADe,MAInBC,eAJmB,CAID,iBACd,OAAKD,KAAL,CAAWC,eADG,EAJC,CAEf,MAAKC,KAAL,CAAa,CAACC,IAAI,CAAE,EAAP,CAAWC,MAAM,CAAE,EAAnB,CAAuBC,QAAQ,CAAE,CAAjC,CAAb,CAFe,aAGlB,C,4HAID,4IACUC,IADV,CACiB,IADjB,uBAEUV,CAAAA,KAAK,CAAC,CACRW,MAAM,CAAE,KADA,CAERC,GAAG,CAAE,0CAFG,CAAD,CAAL,CAGHC,IAHG,CAGE,SAAUC,QAAV,CAAmB,CACvBJ,IAAI,CAACK,QAAL,CAAc,CACVP,MAAM,CAAEM,QAAQ,CAACE,IAAT,CAAcR,MADZ,CACoBC,QAAQ,CAAEK,QAAQ,CAACE,IAAT,CAAcR,MAAd,CAAqBS,GADnD,CACwDV,IAAI,CAAEO,QAAQ,CAACE,IADvE,CAAd,EAEAE,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACE,IAArB,EACH,CAPK,EAOHI,KAPG,CAOG,SAAUC,KAAV,CAAgB,CACrBH,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACL,IAAlB,EACH,CATK,CAFV,4D,wGAaA,iBAAS,CACL,mBACI,YAAK,SAAS,CAAC,gBAAf,uBACA,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,aAAd,6BADJ,CAEa,CAAC,KAAKV,KAAL,CAAWE,MAAZ,eACD,KAAC,KAAD,EAAO,KAAK,CAAC,MAAb,8CAHZ,CAIa,KAAKF,KAAL,CAAWE,MAAX,eACD,MAAC,KAAD,EAAO,KAAK,CAAC,MAAb,mCAA0C,KAAKF,KAAL,CAAWC,IAAX,CAAgBe,SAA1D,6BALZ,cAMQ,WAAI,SAAS,CAAC,YAAd,uBACI,WAAI,SAAS,CAAC,iBAAd,UACC,KAAKhB,KAAL,CAAWE,MAAX,EACD,KAAKF,KAAL,CAAWE,MAAX,CAAkBe,GAAlB,CAAsB,SAACC,KAAD,CAAQC,KAAR,CAAkB,CACpC,mBACI,qBACKD,KAAK,CAACE,QAAN,CAAeH,GAAf,CAAmB,SAACI,CAAD,CAAIC,CAAJ,CAAU,CAC1B,mBACI,oCACI,+BAAWD,CAAC,CAACE,IAAb,GADJ,cAEI,iCAAaF,CAAC,CAACG,KAAf,GAFJ,cAGI,+BAAWH,CAAC,CAACI,IAAb,GAHJ,GAAUH,CAAV,CADJ,CAOX,CARQ,CADL,EAAUH,KAAV,CADJ,CAaP,CAdG,CAFA,EADJ,EANR,GADA,EADJ,CA+BH,C,oBAtDgB3B,S,EA2DrB,cAAeK,CAAAA,MAAf","sourcesContent":["import React, {Component, Fragment} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\nclass Orders extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {user: \"\", orders: [], order_id: 0};\r\n    }\r\n    isAuthenticated = () =>\r\n        this.props.isAuthenticated\r\n\r\n    async getOrder(){\r\n        const that = this;\r\n        await axios({\r\n            method: \"get\",\r\n            url: \"http://localhost:3001/api/users/getUser/\",\r\n        }).then(function (response){\r\n            that.setState({\r\n                orders: response.data.orders, order_id: response.data.orders._id, user: response.data});\r\n            console.log(response.data)\r\n        }).catch(function (error){\r\n            console.log(error.data)\r\n        });\r\n    }\r\n    render() {\r\n        return(\r\n            <div className=\"orderContainer\">\r\n            <div className=\"card mt-5\">\r\n                <h3 className=\"card-header\">Previous orders</h3>\r\n                        {!this.state.orders &&\r\n                        <Alert color=\"info\">You have no orders. Go shopping!</Alert>}\r\n                        {this.state.orders &&\r\n                        <Alert color=\"info\">You are logged in as {this.state.user.firstName}. Here are your orders.</Alert>}\r\n                    <ul className=\"list-group\">\r\n                        <li className=\"list-group-item\">\r\n                        {this.state.orders &&\r\n                        this.state.orders.map((order, index) => {\r\n                            return(\r\n                                <div key={index}>\r\n                                    {order.products.map((p, i) => {\r\n                                        return(\r\n                                            <div key={i}>\r\n                                                <h6>Name: {p.name}</h6>\r\n                                                <h6>Price: ${p.price}</h6>\r\n                                                <h6>Date: {p.date}</h6>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                        )\r\n                    })}\r\n                </li>\r\n                </ul>\r\n            </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Orders"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var AddReview=/*#__PURE__*/function(_Component){_inherits(AddReview,_Component);var _super=_createSuper(AddReview);function AddReview(props){var _this;_classCallCheck(this,AddReview);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(event){event.preventDefault();_this.putReview().then(function(response){}).catch(function(error){});};_this.state={dateTime:new Date().toDateString(),reviewText:_this.props.reviewText||'',reviewStars:_this.props.reviewStars||''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(AddReview,[{key:\"putReview\",value:function(){var _putReview=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var that;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:that=this;_context.next=3;return axios({method:'post',url:'/api/products/addReview/:itemId',data:{user:this.state.user,mail:this.state.mail,reviewText:this.state.reviewText,rating:this.state.rating}}).then(function(response){console.log(\"Data: \",response.data);that.setState({reviewText:response.data.message});}).catch(function(error){if(error.response){console.log(error.response.data);}});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function putReview(){return _putReview.apply(this,arguments);}return putReview;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var that;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:that=this;_context2.next=3;return axios({method:\"get\",url:'http://localhost:3001/api/products/get/'+this.props.match.params.itemId}).then(function(response){that.setState({name:response.data.name,image:\"data:image/png;base64,\"+response.data.imageUrl[0].image,itemId:response.data.itemId});}).catch(function(error){if(!error.data){console.log(error.data);}console.log(error);});case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var reviewStars=this.state.reviewStars;var options=[{label:\"1\",value:\"1\"},{label:\"2\",value:\"2\"},{label:\"3\",value:\"3\"},{label:\"4\",value:\"4\"},{label:\"5\",value:\"5\"}];return/*#__PURE__*/_jsx(\"div\",{className:\"review\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{width:\"100%\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[\"Add review for item \",this.state.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"input\",{id:\"name\",name:\"name\",type:\"text\",placeholder:\"Your name\",className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",children:\"Your E-mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"text\",placeholder:\"Your email\",className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",children:\"Your message\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"message\",name:\"message\",placeholder:\"Please enter your feedback here...\",rows:\"5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"rating\",htmlFor:\"message\",children:\"Your rating\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"select\",{name:\"rating\",id:\"reviewStars\",className:\"star_rate\",value:reviewStars,onChange:this.handleChange,children:options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value);})})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Send review\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"img\",{className:\"card-img\",src:this.state.image,alt:\"picture of product\"})})]})})})})});}}]);return AddReview;}(Component);export{AddReview as default};","map":{"version":3,"sources":["C:/Users/Havnaas/Documents/Intellj/data2410-portfolio-2/client/src/Components/addReview.jsx"],"names":["React","Component","axios","AddReview","props","handleChange","e","setState","target","name","value","handleSubmit","event","preventDefault","putReview","then","response","catch","error","state","dateTime","Date","toDateString","reviewText","reviewStars","bind","that","method","url","data","user","mail","rating","console","log","message","match","params","itemId","image","imageUrl","options","label","map","option"],"mappings":"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","sourcesContent":["import React, {Component,} from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default class AddReview extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dateTime: (new Date()).toDateString(),\r\n            reviewText: this.props.reviewText || '',\r\n            reviewStars: this.props.reviewStars || ''}\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.putReview()\r\n            .then(response => {\r\n            }).catch(error => {\r\n        })\r\n    };\r\n    async putReview(){\r\n        const that = this;\r\n        await axios({\r\n            method: 'post',\r\n            url: '/api/products/addReview/:itemId',\r\n            data: {\r\n                user: this.state.user,\r\n                mail: this.state.mail,\r\n                reviewText: this.state.reviewText,\r\n                rating: this.state.rating,\r\n            }\r\n        }).then(function(response){\r\n            console.log(\"Data: \", response.data);\r\n            that.setState({reviewText: response.data.message})\r\n        }).catch(function (error){\r\n            if (error.response){\r\n                console.log(error.response.data);\r\n            }\r\n        })\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const that = this;\r\n        await axios({\r\n            method: \"get\",\r\n            url: 'http://localhost:3001/api/products/get/'+this.props.match.params.itemId,\r\n        }).then(function (response) {\r\n            that.setState({name: response.data.name,\r\n                image: \"data:image/png;base64,\"+response.data.imageUrl[0].image,\r\n                itemId: response.data.itemId});\r\n        }).catch(function (error) {\r\n            if (!error.data) {\r\n                console.log(error.data)\r\n            }\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n    render() {\r\n    const { reviewStars } = this.state;\r\n    const options = [\r\n        {\r\n            label: \"1\",\r\n            value: \"1\",\r\n        }, {\r\n            label: \"2\",\r\n            value: \"2\",\r\n        }, {\r\n            label: \"3\",\r\n            value: \"3\",\r\n        }, {\r\n            label: \"4\",\r\n            value: \"4\",\r\n        }, {\r\n            label: \"5\",\r\n            value: \"5\",\r\n        }\r\n    ];\r\n    return(\r\n        <div className=\"review\">\r\n        <div className=\"container\">\r\n                        <div>\r\n                            <div width=\"100%\">\r\n                                <div className=\"row\">\r\n                                <div className=\"col-lg-6\">\r\n                                    <div className=\"card-header\">Add review for item {this.state.name}</div>\r\n                                    <div className=\"card-body\">\r\n                                    <form onSubmit={this.handleSubmit}>\r\n                                        <fieldset>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Full\r\n                                                    Name</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <input id=\"name\" name=\"name\" type=\"text\" placeholder=\"Your name\"\r\n                                                           className=\"form-control\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Your\r\n                                                    E-mail</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <input id=\"email\" name=\"email\" type=\"text\" placeholder=\"Your email\"\r\n                                                           className=\"form-control\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Your\r\n                                                    message</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <textarea className=\"form-control\" id=\"message\" name=\"message\"\r\n                                                              placeholder=\"Please enter your feedback here...\"\r\n                                                              rows=\"5\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"rating\" htmlFor=\"message\">Your\r\n                                                    rating</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <select name=\"rating\" id=\"reviewStars\" className=\"star_rate\" value={reviewStars}\r\n                                                            onChange={this.handleChange}>\r\n                                                            {options.map((option) => (\r\n                                                                <option key={option.value} value={option.value}>\r\n                                                                    {option.label}</option>\r\n                                                            ))}\r\n                                                    </select>\r\n\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <button type=\"submit\" className=\"btn btn-success\">Send review</button>\r\n                                        </fieldset>\r\n                                    </form>\r\n                                </div>\r\n                                </div>\r\n                                <div className=\"col-lg-6\">\r\n                                    <img className=\"card-img\" src={this.state.image} alt = \"picture of product\"/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}
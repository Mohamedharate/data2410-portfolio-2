{"ast":null,"code":"var _jsxFileName = \"C:\\\\OsloMet\\\\2020-2021\\\\Datanettverk\\\\portfolio2-group7\\\\client\\\\src\\\\Components\\\\Products\\\\addReview.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport LoadingSpinnerLargeSuccess from \"../Spinners/LoadingSpinnerLargeSuccess\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AddReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      this.setState({\n        toggle_spinner: true\n      });\n      await axios({\n        method: 'post',\n        url: '/api/products/addReview/' + this.props.match.params.itemId,\n        data: {\n          user: this.state.user_name,\n          reviewText: this.state.message,\n          rating: this.state.rating\n        }\n      }).then(function (response) {\n        console.log(\"Data: \", response.data);\n        this.setState({\n          reviewText: response.data.message\n        });\n      }).catch(function (error) {\n        if (error.response) {\n          console.log(error.response.data);\n        }\n      });\n      this.setState({\n        toggle_spinner: false\n      });\n    };\n\n    this.state = {\n      dateTime: new Date().toDateString(),\n      message: '',\n      rating: '',\n      user_name: '',\n      email: '',\n      toggle_spinner: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const that = this;\n    await axios({\n      method: \"get\",\n      url: 'https://localhost:3001/api/products/get/' + this.props.match.params.itemId\n    }).then(function (response) {\n      that.setState({\n        name: response.data.name,\n        image: \"data:image/png;base64,\" + response.data.imageUrl[0].image,\n        itemId: response.data.itemId\n      });\n    }).catch(function (error) {\n      if (!error.data) {\n        console.log(error.data);\n      }\n\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      reviewStars\n    } = this.state;\n    const options = [{\n      label: \"1\",\n      value: \"1\"\n    }, {\n      label: \"2\",\n      value: \"2\"\n    }, {\n      label: \"3\",\n      value: \"3\"\n    }, {\n      label: \"4\",\n      value: \"4\"\n    }, {\n      label: \"5\",\n      value: \"5\"\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [\"Add review for item \", this.state.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleSubmit,\n                children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      children: \"Full Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"user_name\",\n                        onChange: this.handleChange,\n                        placeholder: \"Your name\",\n                        required: true,\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 104,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      children: \"Your E-mail\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"email\",\n                        type: \"text\",\n                        onChange: this.handleChange,\n                        placeholder: \"Your email\",\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      children: \"Your message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"form-control\",\n                        onChange: this.handleChange,\n                        name: \"message\",\n                        required: true,\n                        placeholder: \"Please enter your feedback here...\",\n                        rows: \"5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      htmlFor: \"message\",\n                      children: \"Your rating\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9 flex-column\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        name: \"rating\",\n                        className: \"star_rate\",\n                        value: reviewStars,\n                        required: true,\n                        onChange: this.handleChange,\n                        children: options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: option.value,\n                          children: option.label\n                        }, option.value, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 132,\n                          columnNumber: 65\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 45\n                  }, this), this.state.toggle_spinner ? /*#__PURE__*/_jsxDEV(LoadingSpinnerLargeSuccess, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 74\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-success\",\n                    children: \"Send review\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"fit-contain\",\n                src: this.state.image,\n                alt: \"picture of product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/src/Components/Products/addReview.jsx"],"names":["React","Component","axios","Link","LoadingSpinnerLargeSuccess","AddReview","constructor","props","handleChange","event","target","value","name","setState","handleSubmit","preventDefault","toggle_spinner","method","url","match","params","itemId","data","user","state","user_name","reviewText","message","rating","then","response","console","log","catch","error","dateTime","Date","toDateString","email","bind","componentDidMount","that","image","imageUrl","render","reviewStars","options","label","map","option"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,0BAAP,MAAuC,wCAAvC;;AAGA,eAAe,MAAMC,SAAN,SAAwBJ,SAAxB,CAAiC;AAC5CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAYnBC,YAZmB,GAYJC,KAAK,IAAI;AACpB,YAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,YAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,YAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;AAEA,WAAKC,QAAL,CAAc;AACV,SAACD,IAAD,GAAQD;AADE,OAAd;AAGH,KApBkB;;AAAA,SAsBnBG,YAtBmB,GAsBJ,MAAOL,KAAP,IAAiB;AAC5BA,MAAAA,KAAK,CAACM,cAAN;AACA,WAAKF,QAAL,CAAc;AAACG,QAAAA,cAAc,EAAE;AAAjB,OAAd;AACA,YAAMd,KAAK,CAAC;AACRe,QAAAA,MAAM,EAAE,MADA;AAERC,QAAAA,GAAG,EAAE,6BAA2B,KAAKX,KAAL,CAAWY,KAAX,CAAiBC,MAAjB,CAAwBC,MAFhD;AAGRC,QAAAA,IAAI,EAAE;AACFC,UAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,SADf;AAEFC,UAAAA,UAAU,EAAE,KAAKF,KAAL,CAAWG,OAFrB;AAGFC,UAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI;AAHjB;AAHE,OAAD,CAAL,CAQHC,IARG,CAQE,UAASC,QAAT,EAAkB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,QAAQ,CAACR,IAA/B;AACA,aAAKT,QAAL,CAAc;AAACa,UAAAA,UAAU,EAAEI,QAAQ,CAACR,IAAT,CAAcK;AAA3B,SAAd;AACH,OAXK,EAWHM,KAXG,CAWG,UAAUC,KAAV,EAAgB;AACrB,YAAIA,KAAK,CAACJ,QAAV,EAAmB;AACfC,UAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACJ,QAAN,CAAeR,IAA3B;AACH;AACJ,OAfK,CAAN;AAgBA,WAAKT,QAAL,CAAc;AAACG,QAAAA,cAAc,EAAE;AAAjB,OAAd;AACH,KA1CkB;;AAEf,SAAKQ,KAAL,GAAa;AACTW,MAAAA,QAAQ,EAAG,IAAIC,IAAJ,EAAD,CAAaC,YAAb,EADD;AAETV,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,MAAM,EAAE,EAHC;AAITH,MAAAA,SAAS,EAAE,EAJF;AAKTa,MAAAA,KAAK,EAAE,EALE;AAMTtB,MAAAA,cAAc,EAAE;AANP,KAAb;AAQA,SAAKR,YAAL,GAAoB,KAAKA,YAAL,CAAkB+B,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAiCsB,QAAjBC,iBAAiB,GAAG;AACtB,UAAMC,IAAI,GAAG,IAAb;AACA,UAAMvC,KAAK,CAAC;AACRe,MAAAA,MAAM,EAAE,KADA;AAERC,MAAAA,GAAG,EAAE,6CAA2C,KAAKX,KAAL,CAAWY,KAAX,CAAiBC,MAAjB,CAAwBC;AAFhE,KAAD,CAAL,CAGHQ,IAHG,CAGE,UAAUC,QAAV,EAAoB;AACxBW,MAAAA,IAAI,CAAC5B,QAAL,CAAc;AAACD,QAAAA,IAAI,EAAEkB,QAAQ,CAACR,IAAT,CAAcV,IAArB;AACV8B,QAAAA,KAAK,EAAE,2BAAyBZ,QAAQ,CAACR,IAAT,CAAcqB,QAAd,CAAuB,CAAvB,EAA0BD,KADhD;AAEVrB,QAAAA,MAAM,EAAES,QAAQ,CAACR,IAAT,CAAcD;AAFZ,OAAd;AAGH,KAPK,EAOHY,KAPG,CAOG,UAAUC,KAAV,EAAiB;AACtB,UAAI,CAACA,KAAK,CAACZ,IAAX,EAAiB;AACbS,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACZ,IAAlB;AACH;;AACDS,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KAZK,CAAN;AAaH;;AAEDU,EAAAA,MAAM,GAAG;AACT,UAAM;AAAEC,MAAAA;AAAF,QAAkB,KAAKrB,KAA7B;AACA,UAAMsB,OAAO,GAAG,CACZ;AACIC,MAAAA,KAAK,EAAE,GADX;AAEIpC,MAAAA,KAAK,EAAE;AAFX,KADY,EAIT;AACCoC,MAAAA,KAAK,EAAE,GADR;AAECpC,MAAAA,KAAK,EAAE;AAFR,KAJS,EAOT;AACCoC,MAAAA,KAAK,EAAE,GADR;AAECpC,MAAAA,KAAK,EAAE;AAFR,KAPS,EAUT;AACCoC,MAAAA,KAAK,EAAE,GADR;AAECpC,MAAAA,KAAK,EAAE;AAFR,KAVS,EAaT;AACCoC,MAAAA,KAAK,EAAE,GADR;AAECpC,MAAAA,KAAK,EAAE;AAFR,KAbS,CAAhB;AAkBA,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACA;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,+BACwB;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAE;AAAhB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGA;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,iDAAkD,KAAKa,KAAL,CAAWZ,IAA7D;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,qCACA;AAAM,gBAAA,QAAQ,EAAE,KAAKE,YAArB;AAAA,uCACI;AAAA,0CACI;AAAK,oBAAA,SAAS,EAAC,YAAf;AAAA,4CACI;AAAO,sBAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAGI;AAAK,sBAAA,SAAS,EAAC,UAAf;AAAA,6CACI;AAAO,wBAAA,IAAI,EAAC,MAAZ;AAAmB,wBAAA,IAAI,EAAC,WAAxB;AAAoC,wBAAA,QAAQ,EAAE,KAAKN,YAAnD;AAAiE,wBAAA,WAAW,EAAC,WAA7E;AAAyF,wBAAA,QAAQ,EAAE,IAAnG;AACO,wBAAA,SAAS,EAAC;AADjB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eASI;AAAK,oBAAA,SAAS,EAAC,YAAf;AAAA,4CACI;AAAO,sBAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAGI;AAAK,sBAAA,SAAS,EAAC,UAAf;AAAA,6CACI;AAAO,wBAAA,IAAI,EAAC,OAAZ;AAAoB,wBAAA,IAAI,EAAC,MAAzB;AAAgC,wBAAA,QAAQ,EAAE,KAAKA,YAA/C;AAA6D,wBAAA,WAAW,EAAC,YAAzE;AACO,wBAAA,SAAS,EAAC;AADjB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BATJ,eAiBI;AAAK,oBAAA,SAAS,EAAC,YAAf;AAAA,4CACI;AAAO,sBAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAGI;AAAK,sBAAA,SAAS,EAAC,UAAf;AAAA,6CACI;AAAU,wBAAA,SAAS,EAAC,cAApB;AAAmC,wBAAA,QAAQ,EAAE,KAAKA,YAAlD;AAAgE,wBAAA,IAAI,EAAC,SAArE;AAA+E,wBAAA,QAAQ,EAAE,IAAzF;AACU,wBAAA,WAAW,EAAC,oCADtB;AAEU,wBAAA,IAAI,EAAC;AAFf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAjBJ,eA0BI;AAAK,oBAAA,SAAS,EAAC,YAAf;AAAA,4CACI;AAAO,sBAAA,SAAS,EAAC,wBAAjB;AAA0C,sBAAA,OAAO,EAAC,SAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAGI;AAAK,sBAAA,SAAS,EAAC,sBAAf;AAAA,6CACI;AAAQ,wBAAA,IAAI,EAAC,QAAb;AAAsB,wBAAA,SAAS,EAAC,WAAhC;AAA4C,wBAAA,KAAK,EAAEqC,WAAnD;AAAgE,wBAAA,QAAQ,EAAE,IAA1E;AACQ,wBAAA,QAAQ,EAAE,KAAKrC,YADvB;AAAA,kCAESsC,OAAO,CAACE,GAAR,CAAaC,MAAD,iBACT;AAA2B,0BAAA,KAAK,EAAEA,MAAM,CAACtC,KAAzC;AAAA,oCACKsC,MAAM,CAACF;AADZ,2BAAaE,MAAM,CAACtC,KAApB;AAAA;AAAA;AAAA;AAAA,gCADH;AAFT;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BA1BJ,EAwCK,KAAKa,KAAL,CAAWR,cAAX,gBAA4B,QAAC,0BAAD;AAAA;AAAA;AAAA;AAAA,0BAA5B,gBACG;AAAQ,oBAAA,IAAI,EAAC,QAAb;AAAsB,oBAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAzCR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHA,eAsDA;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,qCACA;AAAK,gBAAA,SAAS,EAAC,aAAf;AAA6B,gBAAA,GAAG,EAAE,KAAKQ,KAAL,CAAWkB,KAA7C;AAAoD,gBAAA,GAAG,EAAG;AAA1D;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAtDA,eA2DI;AAAK,YAAA,SAAS,EAAE;AAAhB;AAAA;AAAA;AAAA;AAAA,kBA3DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADxB;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADJ;AAoEH;;AAtJ+C","sourcesContent":["import React, {Component,} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link} from \"react-router-dom\";\r\nimport LoadingSpinnerLargeSuccess from \"../Spinners/LoadingSpinnerLargeSuccess\";\r\n\r\n\r\nexport default class AddReview extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dateTime: (new Date()).toDateString(),\r\n            message: '',\r\n            rating: '',\r\n            user_name: '',\r\n            email: '',\r\n            toggle_spinner: false\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange = event => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        this.setState({toggle_spinner: true})\r\n        await axios({\r\n            method: 'post',\r\n            url: '/api/products/addReview/'+this.props.match.params.itemId,\r\n            data: {\r\n                user: this.state.user_name,\r\n                reviewText: this.state.message,\r\n                rating: this.state.rating,\r\n            }\r\n        }).then(function(response){\r\n            console.log(\"Data: \", response.data);\r\n            this.setState({reviewText: response.data.message})\r\n        }).catch(function (error){\r\n            if (error.response){\r\n                console.log(error.response.data);\r\n            }\r\n        });\r\n        this.setState({toggle_spinner: false})\r\n    };\r\n\r\n    async componentDidMount() {\r\n        const that = this;\r\n        await axios({\r\n            method: \"get\",\r\n            url: 'https://localhost:3001/api/products/get/'+this.props.match.params.itemId,\r\n        }).then(function (response) {\r\n            that.setState({name: response.data.name,\r\n                image: \"data:image/png;base64,\"+response.data.imageUrl[0].image,\r\n                itemId: response.data.itemId});\r\n        }).catch(function (error) {\r\n            if (!error.data) {\r\n                console.log(error.data)\r\n            }\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n    render() {\r\n    const { reviewStars } = this.state;\r\n    const options = [\r\n        {\r\n            label: \"1\",\r\n            value: \"1\",\r\n        }, {\r\n            label: \"2\",\r\n            value: \"2\",\r\n        }, {\r\n            label: \"3\",\r\n            value: \"3\",\r\n        }, {\r\n            label: \"4\",\r\n            value: \"4\",\r\n        }, {\r\n            label: \"5\",\r\n            value: \"5\",\r\n        }\r\n    ];\r\n    return(\r\n        <div className=\"review\">\r\n        <div className=\"productContainer\">\r\n                                <div className=\"row\">\r\n                                    <div className={\"col-lg-1\"}>\r\n                                    </div>\r\n                                <div className=\"col-lg-5\">\r\n                                    <div className=\"card-header\">Add review for item {this.state.name}</div>\r\n                                    <div className=\"card-body\">\r\n                                    <form onSubmit={this.handleSubmit}>\r\n                                        <fieldset>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Full\r\n                                                    Name</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <input type=\"text\" name=\"user_name\" onChange={this.handleChange} placeholder=\"Your name\" required={true}\r\n                                                           className=\"form-control\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Your\r\n                                                    E-mail</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <input name=\"email\" type=\"text\" onChange={this.handleChange} placeholder=\"Your email\"\r\n                                                           className=\"form-control\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Your\r\n                                                    message</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <textarea className=\"form-control\" onChange={this.handleChange} name=\"message\" required={true}\r\n                                                              placeholder=\"Please enter your feedback here...\"\r\n                                                              rows=\"5\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\" htmlFor=\"message\">Your\r\n                                                    rating</label>\r\n                                                <div className=\"col-md-9 flex-column\">\r\n                                                    <select name=\"rating\" className=\"star_rate\" value={reviewStars} required={true}\r\n                                                            onChange={this.handleChange}>\r\n                                                            {options.map((option) => (\r\n                                                                <option key={option.value} value={option.value}>\r\n                                                                    {option.label}</option>\r\n                                                            ))}\r\n                                                    </select>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                            {this.state.toggle_spinner ? <LoadingSpinnerLargeSuccess/>:\r\n                                                <button type=\"submit\" className=\"btn btn-success\">Send review</button>\r\n                                            }\r\n                                        </fieldset>\r\n                                    </form>\r\n                                </div>\r\n                                </div>\r\n                                <div className=\"col-lg-5\">\r\n                                    <div className=\"card-img\">\r\n                                    <img className=\"fit-contain\" src={this.state.image} alt = \"picture of product\"/>\r\n                                    </div>\r\n                                </div>\r\n                                    <div className={\"col-lg-1\"}>\r\n                                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}
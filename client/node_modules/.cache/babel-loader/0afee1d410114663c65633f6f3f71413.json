{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ProfilePage from\"./ProfilePage\";import OrderPage from\"./OrderPage\";import SuccessFeedback from\"../Feedback/SuccessFeedback\";import DangerFeedback from\"../Feedback/DangerFeedback\";import CloseIcon from'@material-ui/icons/Close';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import LoadingSpinnerSmallLight from\"../Spinners/LoadingSpinnerSmallLight\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileMain=/*#__PURE__*/function(_Component){_inherits(ProfileMain,_Component);var _super=_createSuper(ProfileMain);function ProfileMain(){var _this;_classCallCheck(this,ProfileMain);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={logout_loading:false,toggle_error_feedback:false,toggle_success_feedback:false,feedback_text:''};_this.handleLogout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({logout_loading:true});_context.next=3;return _this.props.handleLogout().then(function(){_this.setState({logout_loading:false});}).catch(function(){_this.setState({logout_loading:false});});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handleFeedbackCallback=function(success,text){if(success){_this.setState({toggle_error_feedback:false,toggle_success_feedback:true,feedback_text:text});}else{_this.setState({toggle_error_feedback:true,toggle_success_feedback:false,feedback_text:text});}};return _this;}_createClass(ProfileMain,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"backgroundContainer position-fixed\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row text-center justify-content-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 col-lg-5 mh-75 bg-light mt-5 m-2 p-1 pb-3 border border-secondary shadow-lg rounded-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.props.close,className:\"btn btn-light float-right\",children:/*#__PURE__*/_jsx(CloseIcon,{})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-tabs\",id:\"myTab\",role:\"tablist\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link active\",id:\"home-tab\",\"data-toggle\":\"tab\",href:\"#home\",role:\"tab\",\"aria-controls\":\"home\",\"aria-selected\":\"true\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",id:\"profile-tab\",\"data-toggle\":\"tab\",href:\"#profile\",role:\"tab\",\"aria-controls\":\"profile\",\"aria-selected\":\"false\",children:\"Orders\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-7 text-left mt-3\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[this.props.current_user.firstName,\" \",this.props.current_user.lastName]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleLogout,className:\"btn btn-danger mt-2 float-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-7 align-self-center\",children:[\"Logout \",this.state.logout_loading?/*#__PURE__*/_jsx(LoadingSpinnerSmallLight,{}):/*#__PURE__*/_jsx(ExitToAppIcon,{})]})})})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",id:\"myTabContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade show active\",id:\"home\",role:\"tabpanel\",\"aria-labelledby\":\"home-tab\",children:/*#__PURE__*/_jsx(ProfilePage,{feedback:this.handleFeedbackCallback,current_user:this.props.current_user})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade\",id:\"profile\",role:\"tabpanel\",\"aria-labelledby\":\"profile-tab\",children:/*#__PURE__*/_jsx(OrderPage,{feedback:this.handleFeedbackCallback,orders:this.props.current_user.orders})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-9\",children:[this.state.toggle_success_feedback&&/*#__PURE__*/_jsx(SuccessFeedback,{feedback_success_text:this.state.feedback_text}),this.state.toggle_error_feedback&&/*#__PURE__*/_jsx(DangerFeedback,{feedback_error_text:this.state.feedback_text})]})})]})]})})});}}]);return ProfileMain;}(Component);export default ProfileMain;","map":{"version":3,"sources":["C:/Users/Gjesterom/IdeaProjects/data2410-portfolio-2/client/src/Components/UserProfile/ProfileMain.jsx"],"names":["React","Component","ProfilePage","OrderPage","SuccessFeedback","DangerFeedback","CloseIcon","ExitToAppIcon","LoadingSpinnerSmallLight","ProfileMain","state","logout_loading","toggle_error_feedback","toggle_success_feedback","feedback_text","handleLogout","setState","props","then","catch","handleFeedbackCallback","success","text","close","current_user","firstName","lastName","orders"],"mappings":"yhCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,6BAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,wBAAP,KAAqC,sCAArC,C,2FAGMC,CAAAA,W,+UAEFC,K,CAAQ,CACJC,cAAc,CAAE,KADZ,CAEJC,qBAAqB,CAAE,KAFnB,CAGJC,uBAAuB,CAAE,KAHrB,CAIJC,aAAa,CAAE,EAJX,C,OAORC,Y,sEAAe,mIACX,MAAKC,QAAL,CAAc,CAACL,cAAc,CAAE,IAAjB,CAAd,EADW,sBAEL,OAAKM,KAAL,CAAWF,YAAX,GACDG,IADC,CACI,UAAM,CACR,MAAKF,QAAL,CAAc,CAACL,cAAc,CAAE,KAAjB,CAAd,EACH,CAHC,EAGCQ,KAHD,CAGO,UAAM,CACX,MAAKH,QAAL,CAAc,CAACL,cAAc,CAAE,KAAjB,CAAd,EACH,CALC,CAFK,uD,SAUfS,sB,CAAyB,SAACC,OAAD,CAAUC,IAAV,CAAmB,CACxC,GAAID,OAAJ,CAAa,CACT,MAAKL,QAAL,CAAc,CACVJ,qBAAqB,CAAE,KADb,CAEVC,uBAAuB,CAAE,IAFf,CAGVC,aAAa,CAAEQ,IAHL,CAAd,EAKH,CAND,IAMO,CACH,MAAKN,QAAL,CAAc,CACVJ,qBAAqB,CAAE,IADb,CAEVC,uBAAuB,CAAE,KAFf,CAGVC,aAAa,CAAEQ,IAHL,CAAd,EAKH,CACJ,C,6DAED,iBAAS,CACL,mBACQ,YAAK,SAAS,CAAC,oCAAf,uBACI,YAAK,SAAS,CAAC,qCAAf,uBACI,aACI,SAAS,CAAC,mGADd,wBAEI,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,QAAf,uBACI,eAAQ,OAAO,CAAE,KAAKL,KAAL,CAAWM,KAA5B,CAAmC,SAAS,CAAC,2BAA7C,uBACI,KAAC,SAAD,IADJ,EADJ,EADJ,EAFJ,cASI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAI,SAAS,CAAC,cAAd,CAA6B,EAAE,CAAC,OAAhC,CAAwC,IAAI,CAAC,SAA7C,wBACI,WAAI,SAAS,CAAC,UAAd,uBACI,UAAG,SAAS,CAAC,iBAAb,CAA+B,EAAE,CAAC,UAAlC,CAA6C,cAAY,KAAzD,CACG,IAAI,CAAC,OADR,CAEG,IAAI,CAAC,KAFR,CAEc,gBAAc,MAF5B,CAEmC,gBAAc,MAFjD,qBADJ,EADJ,cAMI,WAAI,SAAS,CAAC,UAAd,uBACI,UAAG,SAAS,CAAC,UAAb,CAAwB,EAAE,CAAC,aAA3B,CAAyC,cAAY,KAArD,CACG,IAAI,CAAC,UADR,CAEG,IAAI,CAAC,KAFR,CAEc,gBAAc,SAF5B,CAEsC,gBAAc,OAFpD,oBADJ,EANJ,GADJ,cAaI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,sBAAf,uBACI,sBAAK,KAAKN,KAAL,CAAWO,YAAX,CAAwBC,SAA7B,KAAyC,KAAKR,KAAL,CAAWO,YAAX,CAAwBE,QAAjE,GADJ,EADJ,cAII,YAAK,SAAS,CAAC,OAAf,uBACI,eAAQ,OAAO,CAAE,KAAKX,YAAtB,CAAoC,SAAS,CAAC,iCAA9C,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,yBAAf,qBACY,KAAKL,KAAL,CAAWC,cAAX,cAA4B,KAAC,wBAAD,IAA5B,cAA0D,KAAC,aAAD,IADtE,GADJ,EADJ,EADJ,EAJJ,GAbJ,cA2BI,aA3BJ,cA4BI,aAAK,SAAS,CAAC,aAAf,CAA6B,EAAE,CAAC,cAAhC,wBACI,YAAK,SAAS,CAAC,2BAAf,CAA2C,EAAE,CAAC,MAA9C,CAAqD,IAAI,CAAC,UAA1D,CACK,kBAAgB,UADrB,uBAEI,KAAC,WAAD,EACI,QAAQ,CAAE,KAAKS,sBADnB,CAEI,YAAY,CAAE,KAAKH,KAAL,CAAWO,YAF7B,EAFJ,EADJ,cAQI,YAAK,SAAS,CAAC,eAAf,CAA+B,EAAE,CAAC,SAAlC,CAA4C,IAAI,CAAC,UAAjD,CACK,kBAAgB,aADrB,uBAEI,KAAC,SAAD,EACI,QAAQ,CAAE,KAAKJ,sBADnB,CAEI,MAAM,CAAE,KAAKH,KAAL,CAAWO,YAAX,CAAwBG,MAFpC,EAFJ,EARJ,GA5BJ,GADJ,EADJ,cAgDI,YAAK,SAAS,CAAC,4BAAf,uBACI,aAAK,SAAS,CAAC,OAAf,WACK,KAAKjB,KAAL,CAAWG,uBAAX,eACD,KAAC,eAAD,EAAiB,qBAAqB,CAAE,KAAKH,KAAL,CAAWI,aAAnD,EAFJ,CAGK,KAAKJ,KAAL,CAAWE,qBAAX,eACD,KAAC,cAAD,EAAgB,mBAAmB,CAAE,KAAKF,KAAL,CAAWI,aAAhD,EAJJ,GADJ,EAhDJ,GATJ,GADJ,EADJ,EADR,CAyEH,C,yBA7GqBb,S,EAgH1B,cAAeQ,CAAAA,WAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport OrderPage from \"./OrderPage\";\r\nimport SuccessFeedback from \"../Feedback/SuccessFeedback\";\r\nimport DangerFeedback from \"../Feedback/DangerFeedback\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport LoadingSpinnerSmallLight from \"../Spinners/LoadingSpinnerSmallLight\";\r\n\r\n\r\nclass ProfileMain extends Component {\r\n\r\n    state = {\r\n        logout_loading: false,\r\n        toggle_error_feedback: false,\r\n        toggle_success_feedback: false,\r\n        feedback_text: '',\r\n    }\r\n\r\n    handleLogout = async () => {\r\n        this.setState({logout_loading: true})\r\n        await this.props.handleLogout()\r\n            .then(() => {\r\n                this.setState({logout_loading: false})\r\n            }).catch(() => {\r\n                this.setState({logout_loading: false})\r\n            })\r\n    }\r\n\r\n    handleFeedbackCallback = (success, text) => {\r\n        if (success) {\r\n            this.setState({\r\n                toggle_error_feedback: false,\r\n                toggle_success_feedback: true,\r\n                feedback_text: text\r\n            })\r\n        } else {\r\n            this.setState({\r\n                toggle_error_feedback: true,\r\n                toggle_success_feedback: false,\r\n                feedback_text: text\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"backgroundContainer position-fixed\">\r\n                    <div className=\"row text-center justify-content-end\">\r\n                        <div\r\n                            className=\"col-md-8 col-lg-5 mh-75 bg-light mt-5 m-2 p-1 pb-3 border border-secondary shadow-lg rounded-left\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <button onClick={this.props.close} className=\"btn btn-light float-right\">\r\n                                        <CloseIcon/>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"container\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-12\">\r\n                                        <ul className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                                            <li className=\"nav-item\">\r\n                                                <a className=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\"\r\n                                                   href=\"#home\"\r\n                                                   role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Profile</a>\r\n                                            </li>\r\n                                            <li className=\"nav-item\">\r\n                                                <a className=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\"\r\n                                                   href=\"#profile\"\r\n                                                   role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Orders</a>\r\n                                            </li>\r\n                                        </ul>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-7 text-left mt-3\">\r\n                                                <h4>{this.props.current_user.firstName} {this.props.current_user.lastName}</h4>\r\n                                            </div>\r\n                                            <div className=\"col-5\">\r\n                                                <button onClick={this.handleLogout} className=\"btn btn-danger mt-2 float-right\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-7 align-self-center\">\r\n                                                            Logout {this.state.logout_loading ? <LoadingSpinnerSmallLight/> : <ExitToAppIcon/>}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                        <hr/>\r\n                                        <div className=\"tab-content\" id=\"myTabContent\">\r\n                                            <div className=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\"\r\n                                                 aria-labelledby=\"home-tab\">\r\n                                                <ProfilePage\r\n                                                    feedback={this.handleFeedbackCallback}\r\n                                                    current_user={this.props.current_user}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"tab-pane fade\" id=\"profile\" role=\"tabpanel\"\r\n                                                 aria-labelledby=\"profile-tab\">\r\n                                                <OrderPage\r\n                                                    feedback={this.handleFeedbackCallback}\r\n                                                    orders={this.props.current_user.orders}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row justify-content-center\">\r\n                                    <div className=\"col-9\">\r\n                                        {this.state.toggle_success_feedback &&\r\n                                        <SuccessFeedback feedback_success_text={this.state.feedback_text}/>}\r\n                                        {this.state.toggle_error_feedback &&\r\n                                        <DangerFeedback feedback_error_text={this.state.feedback_text}/>}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileMain;"]},"metadata":{},"sourceType":"module"}
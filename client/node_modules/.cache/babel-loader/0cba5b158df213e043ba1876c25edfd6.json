{"ast":null,"code":"import _regeneratorRuntime from\"/home/group16/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/group16/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/group16/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/group16/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/group16/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/group16/data2410-portfolio-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Footer from\"../Webstore/Footer\";import AdminAddNewProduct from\"./AdminAddNewProduct\";import AdminAddNewEmployee from\"./AdminAddNewEmployee\";import AdminRestockProducts from\"./AdminRestockProducts\";import AdminEditProduct from\"./AdminEditProduct\";import AdminEditEmployee from\"./AdminEditEmployee\";import axios from\"axios\";import LoadingSpinnerSmallLight from\"../Spinners/LoadingSpinnerSmallLight\";import DangerFeedback from\"../Feedback/DangerFeedback\";import ExitToAppIcon from'@material-ui/icons/ExitToApp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminPage=/*#__PURE__*/function(_Component){_inherits(AdminPage,_Component);var _super=_createSuper(AdminPage);function AdminPage(props){var _this;_classCallCheck(this,AdminPage);_this=_super.call(this,props);_this.state={toggle_restock:true,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:false,logout_loading:false,toggle_error_feedback:false,feedback_text:''};_this.toggleRestock=function(){_this.setState({toggle_restock:true,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:false});};_this.toggleEditProduct=function(){_this.setState({toggle_restock:false,toggle_edit_product:true,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:false});};_this.toggleEditEmployee=function(){_this.setState({toggle_restock:false,toggle_edit_product:false,toggle_edit_employee:true,toggle_new_employee:false,toggle_new_product:false});};_this.toggleNewAdmin=function(){_this.setState({toggle_restock:false,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:true,toggle_new_product:false});};_this.toggleNewProduct=function(){_this.setState({toggle_restock:false,toggle_edit_product:false,toggle_edit_employee:false,toggle_new_employee:false,toggle_new_product:true});};_this.handleLogout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({logout_loading:true});_context.next=3;return axios({method:'post',url:'https://localhost:3001/admin/logout',data:{}}).then(function(){_this.props.logoutCallback();_this.setState({logout_loading:false});}).catch(function(err){_this.setState({logout_loading:false,toggle_error_feedback:true,feedback_text:err.data.Error});});case 3:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(AdminPage,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fillPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2 bg-secondary text-center fillColumn\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mt-5\",children:\"Actions:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleRestock,className:\"btn btn-light btn-md m-2\",children:\"Restock\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleEditProduct,className:\"btn btn-light btn-md m-2\",children:\"Edit Product\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleEditEmployee,className:\"btn btn-light btn-md m-2\",children:\"Edit Employee\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleNewProduct,className:\"btn btn-light btn-md m-2\",children:\"Add New Product\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleNewAdmin,className:\"btn btn-light btn-md m-2\",children:\"Add New Employee\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.handleLogout,className:\"btn btn-danger btn-md m-2\",disabled:this.state.logout_loading,children:[\"Logout \",this.state.logout_loading?/*#__PURE__*/_jsx(LoadingSpinnerSmallLight,{}):/*#__PURE__*/_jsx(ExitToAppIcon,{})]}),this.state.toggle_error_feedback&&/*#__PURE__*/_jsx(DangerFeedback,{feedback_error_text:this.state.feedback_text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10\",children:[this.state.toggle_restock&&/*#__PURE__*/_jsx(AdminRestockProducts,{}),this.state.toggle_edit_product&&/*#__PURE__*/_jsx(AdminEditProduct,{}),this.state.toggle_edit_employee&&/*#__PURE__*/_jsx(AdminEditEmployee,{}),this.state.toggle_new_product&&/*#__PURE__*/_jsx(AdminAddNewProduct,{}),this.state.toggle_new_employee&&/*#__PURE__*/_jsx(AdminAddNewEmployee,{})]})]})}),/*#__PURE__*/_jsx(Footer,{toggle_admin:this.props.toggle_admin})]});}}]);return AdminPage;}(Component);export default AdminPage;","map":{"version":3,"sources":["/home/group16/data2410-portfolio-2/client/src/Components/Admin/AdminPage.jsx"],"names":["React","Component","Footer","AdminAddNewProduct","AdminAddNewEmployee","AdminRestockProducts","AdminEditProduct","AdminEditEmployee","axios","LoadingSpinnerSmallLight","DangerFeedback","ExitToAppIcon","AdminPage","props","state","toggle_restock","toggle_edit_product","toggle_edit_employee","toggle_new_employee","toggle_new_product","logout_loading","toggle_error_feedback","feedback_text","toggleRestock","setState","toggleEditProduct","toggleEditEmployee","toggleNewAdmin","toggleNewProduct","handleLogout","method","url","data","then","logoutCallback","catch","err","Error","toggle_admin"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport Footer from \"../Webstore/Footer\";\nimport AdminAddNewProduct from \"./AdminAddNewProduct\";\nimport AdminAddNewEmployee from \"./AdminAddNewEmployee\";\nimport AdminRestockProducts from \"./AdminRestockProducts\";\nimport AdminEditProduct from \"./AdminEditProduct\";\nimport AdminEditEmployee from \"./AdminEditEmployee\";\nimport axios from \"axios\";\nimport LoadingSpinnerSmallLight from \"../Spinners/LoadingSpinnerSmallLight\";\nimport DangerFeedback from \"../Feedback/DangerFeedback\";\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nclass AdminPage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    state = {\n        toggle_restock: true,\n        toggle_edit_product: false,\n        toggle_edit_employee: false,\n        toggle_new_employee: false,\n        toggle_new_product: false,\n        logout_loading: false,\n        toggle_error_feedback: false,\n        feedback_text: '',\n    };\n\n    // Toggle windows\n    toggleRestock = () => {\n        this.setState({\n            toggle_restock: true,\n            toggle_edit_product: false,\n            toggle_edit_employee: false,\n            toggle_new_employee: false,\n            toggle_new_product: false\n        })\n    };\n    toggleEditProduct = () => {\n        this.setState({\n            toggle_restock: false,\n            toggle_edit_product: true,\n            toggle_edit_employee: false,\n            toggle_new_employee: false,\n            toggle_new_product: false\n        })\n    };\n    toggleEditEmployee = () => {\n        this.setState({\n            toggle_restock: false,\n            toggle_edit_product: false,\n            toggle_edit_employee: true,\n            toggle_new_employee: false,\n            toggle_new_product: false\n        })\n    };\n    toggleNewAdmin = () => {\n        this.setState({\n            toggle_restock: false,\n            toggle_edit_product: false,\n            toggle_edit_employee: false,\n            toggle_new_employee: true,\n            toggle_new_product: false\n        })\n    };\n    toggleNewProduct = () => {\n        this.setState({\n            toggle_restock: false,\n            toggle_edit_product: false,\n            toggle_edit_employee: false,\n            toggle_new_employee: false,\n            toggle_new_product: true\n        })\n    };\n    handleLogout = async () => {\n        this.setState({logout_loading: true})\n        await axios({\n            method: 'post',\n            url: 'https://localhost:3001/admin/logout',\n            data: {}\n        }).then(() => {\n            this.props.logoutCallback();\n            this.setState({logout_loading: false})\n        }).catch(err => {\n            this.setState({\n                logout_loading: false,\n                toggle_error_feedback: true,\n                feedback_text: err.data.Error,\n            })\n        })\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"fillPage\">\n                    <div className=\"row\">\n                        <div className=\"col-md-2 bg-secondary text-center fillColumn\">\n                            <h3 className=\"mt-5\">Actions:</h3>\n                            <button onClick={this.toggleRestock} className=\"btn btn-light btn-md m-2\">\n                                Restock\n                            </button>\n                            <br/>\n                            <button onClick={this.toggleEditProduct} className=\"btn btn-light btn-md m-2\">\n                                Edit Product\n                            </button>\n                            <br/>\n                            <button onClick={this.toggleEditEmployee} className=\"btn btn-light btn-md m-2\">\n                                Edit Employee\n                            </button>\n                            <br/>\n                            <button onClick={this.toggleNewProduct} className=\"btn btn-light btn-md m-2\">\n                                Add New Product\n                            </button>\n                            <br/>\n                            <button onClick={this.toggleNewAdmin} className=\"btn btn-light btn-md m-2\">\n                                Add New Employee\n                            </button>\n                            <br/>\n                            <button onClick={this.handleLogout} className=\"btn btn-danger btn-md m-2\" disabled={this.state.logout_loading}>\n                                Logout {this.state.logout_loading ? <LoadingSpinnerSmallLight/> : <ExitToAppIcon/>}\n                            </button>\n                            {this.state.toggle_error_feedback &&\n                            <DangerFeedback feedback_error_text={this.state.feedback_text}/>}\n                        </div>\n                        <div className=\"col-md-10\">\n                            {this.state.toggle_restock &&\n                            <AdminRestockProducts/>}\n                            {this.state.toggle_edit_product &&\n                            <AdminEditProduct/>}\n                            {this.state.toggle_edit_employee &&\n                            <AdminEditEmployee/>}\n                            {this.state.toggle_new_product &&\n                            <AdminAddNewProduct/>}\n                            {this.state.toggle_new_employee &&\n                            <AdminAddNewEmployee/>}\n                        </div>\n                    </div>\n                </div>\n                <Footer toggle_admin={this.props.toggle_admin}/>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default AdminPage;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/group16/data2410-portfolio-2/client/src/Components/Products/addReview.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport LoadingSpinnerLargeSuccess from \"../Spinners/LoadingSpinnerLargeSuccess\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AddReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      this.setState({\n        toggle_spinner: true\n      });\n      await axios({\n        method: 'post',\n        url: '/api/products/addReview/' + this.props.match.params.itemId,\n        data: {\n          user: this.state.user_name,\n          reviewText: this.state.message,\n          rating: this.state.rating\n        }\n      }).then(function (response) {\n        console.log(\"Data: \", response.data);\n        this.setState({\n          reviewText: response.data.message\n        });\n      }).catch(function (error) {\n        if (error.response) {\n          console.log(error.response.data);\n        }\n      });\n      this.setState({\n        toggle_spinner: false,\n        review_sent: true\n      });\n    };\n\n    this.state = {\n      dateTime: new Date().toDateString(),\n      message: '',\n      rating: '',\n      user_name: '',\n      email: '',\n      toggle_spinner: false,\n      review_sent: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const that = this;\n    await axios({\n      method: \"get\",\n      url: 'https://localhost:3001/api/products/get/' + this.props.match.params.itemId\n    }).then(function (response) {\n      that.setState({\n        name: response.data.name,\n        image: \"data:image/png;base64,\" + response.data.imageUrl[0].image,\n        itemId: response.data.itemId\n      });\n    }).catch(function (error) {\n      if (!error.data) {\n        console.log(error.data);\n      }\n\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      reviewStars\n    } = this.state;\n    const options = [{\n      label: \"1\",\n      value: \"1\"\n    }, {\n      label: \"2\",\n      value: \"2\"\n    }, {\n      label: \"3\",\n      value: \"3\"\n    }, {\n      label: \"4\",\n      value: \"4\"\n    }, {\n      label: \"5\",\n      value: \"5\"\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [\"Add review for item \", this.state.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleSubmit,\n                children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      children: \"Full Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"user_name\",\n                        onChange: this.handleChange,\n                        placeholder: \"Your name\",\n                        required: true,\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 104,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      children: \"Your E-mail\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"email\",\n                        type: \"text\",\n                        onChange: this.handleChange,\n                        placeholder: \"Your email\",\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      children: \"Your message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"form-control\",\n                        onChange: this.handleChange,\n                        name: \"message\",\n                        required: true,\n                        placeholder: \"Please enter your feedback here...\",\n                        rows: \"5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"col-md-9 control-label\",\n                      htmlFor: \"message\",\n                      children: \"Your rating\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-9\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        name: \"rating\",\n                        className: \"form-control\",\n                        value: reviewStars,\n                        required: true,\n                        onChange: this.handleChange,\n                        children: options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: option.value,\n                          children: option.label\n                        }, option.value, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 132,\n                          columnNumber: 65\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 45\n                  }, this), this.state.toggle_spinner ? /*#__PURE__*/_jsxDEV(LoadingSpinnerLargeSuccess, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 74\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-success\",\n                    children: \"Send review\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"label\",\n                    children: this.state.review_sent ? /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"New review is added to product with ID \", this.state.itemId]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 71\n                    }, this) : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"card-img\",\n                src: this.state.image,\n                alt: \"picture of product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/group16/data2410-portfolio-2/client/src/Components/Products/addReview.jsx"],"names":["React","Component","axios","LoadingSpinnerLargeSuccess","AddReview","constructor","props","handleChange","event","target","value","name","setState","handleSubmit","preventDefault","toggle_spinner","method","url","match","params","itemId","data","user","state","user_name","reviewText","message","rating","then","response","console","log","catch","error","review_sent","dateTime","Date","toDateString","email","bind","componentDidMount","that","image","imageUrl","render","reviewStars","options","label","map","option"],"mappings":"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","sourcesContent":["import React, {Component,} from \"react\";\nimport axios from \"axios\";\nimport LoadingSpinnerLargeSuccess from \"../Spinners/LoadingSpinnerLargeSuccess\";\n\n\nexport default class AddReview extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            dateTime: (new Date()).toDateString(),\n            message: '',\n            rating: '',\n            user_name: '',\n            email: '',\n            toggle_spinner: false,\n            review_sent: false\n        }\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange = event => {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    };\n\n    handleSubmit = async (event) => {\n        event.preventDefault();\n        this.setState({toggle_spinner: true})\n        await axios({\n            method: 'post',\n            url: '/api/products/addReview/'+this.props.match.params.itemId,\n            data: {\n                user: this.state.user_name,\n                reviewText: this.state.message,\n                rating: this.state.rating,\n            }\n        }).then(function(response){\n            console.log(\"Data: \", response.data);\n            this.setState({reviewText: response.data.message})\n        }).catch(function (error){\n            if (error.response){\n                console.log(error.response.data);\n            }\n        });\n        this.setState({toggle_spinner: false, review_sent: true})\n    };\n\n    async componentDidMount() {\n        const that = this;\n        await axios({\n            method: \"get\",\n            url: 'https://localhost:3001/api/products/get/'+this.props.match.params.itemId,\n        }).then(function (response) {\n            that.setState({name: response.data.name,\n                image: \"data:image/png;base64,\"+response.data.imageUrl[0].image,\n                itemId: response.data.itemId});\n        }).catch(function (error) {\n            if (!error.data) {\n                console.log(error.data)\n            }\n            console.log(error);\n        });\n    };\n\n    render() {\n    const { reviewStars } = this.state;\n    const options = [\n        {\n            label: \"1\",\n            value: \"1\",\n        }, {\n            label: \"2\",\n            value: \"2\",\n        }, {\n            label: \"3\",\n            value: \"3\",\n        }, {\n            label: \"4\",\n            value: \"4\",\n        }, {\n            label: \"5\",\n            value: \"5\",\n        }\n    ];\n    return(\n        <div className=\"review\">\n        <div className=\"productContainer\">\n                                <div className=\"row\">\n                                    <div className={\"col-lg-1\"}>\n                                    </div>\n                                <div className=\"col-lg-5\">\n                                    <div className=\"card-header\">Add review for item {this.state.name}</div>\n                                    <div className=\"card-body\">\n                                    <form onSubmit={this.handleSubmit}>\n                                        <fieldset>\n                                            <div className=\"form-group\">\n                                                <label className=\"col-md-9 control-label\">Full\n                                                    Name</label>\n                                                <div className=\"col-md-9\">\n                                                    <input type=\"text\" name=\"user_name\" onChange={this.handleChange} placeholder=\"Your name\" required={true}\n                                                           className=\"form-control\"/>\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label className=\"col-md-9 control-label\">Your\n                                                    E-mail</label>\n                                                <div className=\"col-md-9\">\n                                                    <input name=\"email\" type=\"text\" onChange={this.handleChange} placeholder=\"Your email\"\n                                                           className=\"form-control\"/>\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label className=\"col-md-9 control-label\">Your\n                                                    message</label>\n                                                <div className=\"col-md-9\">\n                                                    <textarea className=\"form-control\" onChange={this.handleChange} name=\"message\" required={true}\n                                                              placeholder=\"Please enter your feedback here...\"\n                                                              rows=\"5\"/>\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label className=\"col-md-9 control-label\" htmlFor=\"message\">Your\n                                                    rating</label>\n                                                <div className=\"col-md-9\">\n                                                    <select name=\"rating\" className=\"form-control\" value={reviewStars} required={true}\n                                                            onChange={this.handleChange}>\n                                                            {options.map((option) => (\n                                                                <option key={option.value} value={option.value}>\n                                                                    {option.label}</option>\n                                                            ))}\n                                                    </select>\n\n                                                </div>\n                                            </div>\n                                            {this.state.toggle_spinner ? <LoadingSpinnerLargeSuccess/>:\n                                                <button type=\"submit\" className=\"btn btn-success\">Send review</button>\n                                            }\n                                            <div className=\"label\">\n                                            {this.state.review_sent ? <label>New review is added to product with ID {this.state.itemId}</label>: \"\"}\n                                    </div>\n                                        </fieldset>\n                                    </form>\n                                </div>\n                                </div>\n                                <div className=\"col-lg-5\">\n                                    <div className=\"card-img\">\n                                    <img className=\"card-img\" src={this.state.image} alt = \"picture of product\"/>\n                                    </div>\n                                </div>\n                                    <div className={\"col-lg-1\"}>\n                                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n}"]},"metadata":{},"sourceType":"module"}
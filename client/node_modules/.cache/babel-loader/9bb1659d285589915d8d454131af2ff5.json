{"ast":null,"code":"import _regeneratorRuntime from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import FormData from\"form-data\";import DangerFeedback from\"../Feedback/DangerFeedback\";import SuccessFeedback from\"../Feedback/SuccessFeedback\";import LoadingSpinnerPrimaryLongBtn from\"../Spinners/LoadingSpinnerPrimaryLongBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminAddNewProduct=/*#__PURE__*/function(_Component){_inherits(AdminAddNewProduct,_Component);var _super=_createSuper(AdminAddNewProduct);function AdminAddNewProduct(props){var _this;_classCallCheck(this,AdminAddNewProduct);_this=_super.call(this,props);_this.state={imageArray:[],product_name:String,product_price:Number,product_stock:Number,product_category:String,short_description:String,long_description:String,imagePreview:File,toggle_loading:false,feedback_text:String,toggle_error_feedback:false,toggle_success_feedback:false};_this.handleInputChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this.setState(_defineProperty({},name,value));};_this.handleInputFile=function(event){var file=event.target.files[0];_this.setState({imagePreview:URL.createObjectURL(file)});_this.setState({imageArray:file});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var file,formdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_this.setState({toggle_loading:true});file=_this.state.imageArray;formdata=new FormData();formdata.append('imageUrl',file);formdata.append('name',_this.state.product_name);formdata.append('descriptionShort',_this.state.short_description);formdata.append('descriptionLong',_this.state.long_description);formdata.append('price',_this.state.product_price);formdata.append('category',_this.state.product_category);formdata.append('quantity',_this.state.product_stock);_context.next=13;return axios({method:'post',url:'https://localhost:3001/api/products/new',data:formdata}).then(function(res){_this.setState({toggle_success_feedback:true,toggle_error_feedback:false,feedback_text:res.data.Message,toggle_loading:false});}).catch(function(err){console.error(err);_this.setState({toggle_success_feedback:false,toggle_error_feedback:true,feedback_text:err.data.Error,toggle_loading:false});});case 13:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleInputFile=_this.handleInputFile.bind(_assertThisInitialized(_this));return _this;}_createClass(AdminAddNewProduct,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form-addProduct\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row text-center m-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Product\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row form-label-group m-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"uploadImage\",children:\"Upload Image:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"uploadImg\",children:\"Upload Image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.handleInputFile,type:\"file\",className:\"form-control-file\",id:\"uploadImage\",name:\"imageUrl\",\"aria-describedby\":\"uploadImg\"}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-file-label\",htmlFor:\"uploadImage\",children:\"Choose file..\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Preview image:\"}),/*#__PURE__*/_jsx(\"img\",{className:\"previewImage\",src:this.state.imagePreview,alt:\"\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row form-label-group m-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_name\",children:\"Product name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Name\",name:\"product_name\",required:true,autoFocus:\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_price\",children:\"Product price:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:\"$\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Price\",name:\"product_price\",required:true})]}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_stock\",children:\"Product Stock:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Stock\",name:\"product_stock\",required:true,autoFocus:\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"product_category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"product_category\",onChange:this.handleInputChange,className:\"custom-select my-1 mr-sm-2\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",defaultValue:\"\",children:\"Choose...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Capsules\",children:\"Coffee Capsules\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Beans\",children:\"Coffee Beans\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Filter Ground Coffee\",children:\"Filter Ground Coffee\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coffee Machine\",children:\"Coffee Machine\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Instant Coffee\",children:\"Instant Coffee\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"short_description\",children:\"Short Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Short Description\",rows:\"3\",name:\"short_description\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"mt-2\",htmlFor:\"long_description\",children:\"Long Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:this.handleInputChange,className:\"form-control\",placeholder:\"Long Description\",rows:\"7\",name:\"long_description\",required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row m-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:this.state.toggle_loading?/*#__PURE__*/_jsx(LoadingSpinnerPrimaryLongBtn,{}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block mt-2\",children:\"Add Product\"})})}),this.state.toggle_error_feedback&&/*#__PURE__*/_jsx(DangerFeedback,{feedback_error_text:this.state.feedback_text}),this.state.toggle_success_feedback&&/*#__PURE__*/_jsx(SuccessFeedback,{feedback_success_text:this.state.feedback_text})]})});}}]);return AdminAddNewProduct;}(Component);export default AdminAddNewProduct;","map":{"version":3,"sources":["C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/src/Components/Admin/AdminAddNewProduct.jsx"],"names":["React","Component","axios","FormData","DangerFeedback","SuccessFeedback","LoadingSpinnerPrimaryLongBtn","AdminAddNewProduct","props","state","imageArray","product_name","String","product_price","Number","product_stock","product_category","short_description","long_description","imagePreview","File","toggle_loading","feedback_text","toggle_error_feedback","toggle_success_feedback","handleInputChange","event","target","value","name","setState","handleInputFile","file","files","URL","createObjectURL","handleSubmit","preventDefault","formdata","append","method","url","data","then","res","Message","catch","err","console","error","Error","bind"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport FormData from \"form-data\"\r\nimport DangerFeedback from \"../Feedback/DangerFeedback\";\r\nimport SuccessFeedback from \"../Feedback/SuccessFeedback\";\r\nimport LoadingSpinnerPrimaryLongBtn from \"../Spinners/LoadingSpinnerPrimaryLongBtn\";\r\n\r\nclass AdminAddNewProduct extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this)\r\n        this.handleInputFile = this.handleInputFile.bind(this)\r\n    }\r\n\r\n    state = {\r\n        imageArray: [],\r\n        product_name: String,\r\n        product_price: Number,\r\n        product_stock: Number,\r\n        product_category: String,\r\n        short_description: String,\r\n        long_description: String,\r\n        imagePreview: File,\r\n\r\n        toggle_loading: false,\r\n        feedback_text: String,\r\n        toggle_error_feedback: false,\r\n        toggle_success_feedback: false,\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    };\r\n\r\n    handleInputFile = event => {\r\n        const file = event.target.files[0];\r\n\r\n        this.setState({imagePreview: URL.createObjectURL(file)})\r\n\r\n        this.setState({imageArray: file});\r\n    };\r\n\r\n    handleSubmit = async event => {\r\n        event.preventDefault();\r\n        this.setState({toggle_loading: true});\r\n        let file = this.state.imageArray;\r\n\r\n        let formdata = new FormData();\r\n\r\n        formdata.append('imageUrl', file);\r\n        formdata.append('name', this.state.product_name);\r\n        formdata.append('descriptionShort', this.state.short_description);\r\n        formdata.append('descriptionLong', this.state.long_description);\r\n        formdata.append('price', this.state.product_price);\r\n        formdata.append('category', this.state.product_category);\r\n        formdata.append('quantity', this.state.product_stock);\r\n\r\n        await axios({\r\n            method: 'post',\r\n            url: 'https://localhost:3001/api/products/new',\r\n            data: formdata,\r\n        }).then(res => {\r\n            this.setState({\r\n                toggle_success_feedback: true,\r\n                toggle_error_feedback: false,\r\n                feedback_text: res.data.Message,\r\n                toggle_loading: false\r\n            })\r\n        }).catch(err => {\r\n            console.error(err);\r\n            this.setState({\r\n                toggle_success_feedback: false,\r\n                toggle_error_feedback: true,\r\n                feedback_text: err.data.Error,\r\n                toggle_loading: false\r\n            })\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <form onSubmit={this.handleSubmit} className=\"form-addProduct\">\r\n                    <div className=\"row text-center m-5\">\r\n                        <div className=\"col-12\">\r\n                            <h3>Add New Product</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row form-label-group m-2\">\r\n                        <div className=\"col-6\">\r\n                            <label htmlFor=\"uploadImage\">Upload Image:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\" id=\"uploadImg\">Upload Image</span>\r\n                                </div>\r\n                                <div className=\"custom-file\">\r\n                                    <input onChange={this.handleInputFile} type=\"file\" className=\"form-control-file\"\r\n                                           id=\"uploadImage\"\r\n                                           name=\"imageUrl\" aria-describedby=\"uploadImg\"/>\r\n                                    <label className=\"custom-file-label\"\r\n                                           htmlFor=\"uploadImage\">Choose file..</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-6\">\r\n                            <p>Preview image:</p>\r\n                            <img className=\"previewImage\" src={this.state.imagePreview} alt=\"\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row form-label-group m-2\">\r\n                        <div className=\"col-sm-6\">\r\n                            <label className=\"mt-2\" htmlFor=\"product_name\">Product name:</label>\r\n                            <input type=\"text\" onChange={this.handleInputChange}\r\n                                   className=\"form-control\" placeholder=\"Name\"\r\n                                   name=\"product_name\" required autoFocus=\"\"/>\r\n                            <label className=\"mt-2\" htmlFor=\"product_price\">Product price:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\">$</span>\r\n                                </div>\r\n                                <input type=\"number\" onChange={this.handleInputChange}\r\n                                       className=\"form-control\" placeholder=\"Price\"\r\n                                       name=\"product_price\" required/>\r\n                            </div>\r\n                            <label className=\"mt-2\" htmlFor=\"product_stock\">Product Stock:</label>\r\n                            <input type=\"number\" onChange={this.handleInputChange}\r\n                                   className=\"form-control\" placeholder=\"Stock\"\r\n                                   name=\"product_stock\" required autoFocus=\"\"/>\r\n                            <label className=\"mt-2\" htmlFor=\"product_category\">Category</label>\r\n                            <select name=\"product_category\" onChange={this.handleInputChange}\r\n                                    className=\"custom-select my-1 mr-sm-2\" required>\r\n                                <option value=\"\" defaultValue=\"\">Choose...</option>\r\n                                <option value=\"Coffee Capsules\">Coffee Capsules</option>\r\n                                <option value=\"Coffee Beans\">Coffee Beans</option>\r\n                                <option value=\"Filter Ground Coffee\">Filter Ground Coffee</option>\r\n                                <option value=\"Coffee Machine\">Coffee Machine</option>\r\n                                <option value=\"Instant Coffee\">Instant Coffee</option>\r\n                                <option value=\"Other\">Other</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-sm-6\">\r\n                            <label className=\"mt-2\" htmlFor=\"short_description\">Short Description:</label>\r\n                            <textarea onChange={this.handleInputChange} className=\"form-control\"\r\n                                      placeholder=\"Short Description\"\r\n                                      rows=\"3\" name=\"short_description\" required/>\r\n                            <label className=\"mt-2\" htmlFor=\"long_description\">Long Description:</label>\r\n                            <textarea onChange={this.handleInputChange} className=\"form-control\"\r\n                                      placeholder=\"Long Description\"\r\n                                      rows=\"7\" name=\"long_description\" required/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row m-2\">\r\n                        <div className=\"col-md-3\">\r\n                            {this.state.toggle_loading ? <LoadingSpinnerPrimaryLongBtn/> :\r\n                                <button type=\"submit\" className=\"btn btn-primary btn-block mt-2\">\r\n                                    Add Product\r\n                                </button>}\r\n                        </div>\r\n                    </div>\r\n                    {this.state.toggle_error_feedback &&\r\n                    <DangerFeedback feedback_error_text={this.state.feedback_text}/>}\r\n                    {this.state.toggle_success_feedback &&\r\n                    <SuccessFeedback feedback_success_text={this.state.feedback_text}/>}\r\n                </form>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminAddNewProduct;"]},"metadata":{},"sourceType":"module"}
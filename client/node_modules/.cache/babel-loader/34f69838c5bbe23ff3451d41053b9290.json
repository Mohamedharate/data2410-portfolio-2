{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var AddReview=/*#__PURE__*/function(_Component){_inherits(AddReview,_Component);var _super=_createSuper(AddReview);function AddReview(props){var _this;_classCallCheck(this,AddReview);_this=_super.call(this,props);_this.handleChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var that;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();that=_assertThisInitialized(_this);_context.next=4;return axios({method:'post',url:'/api/products/addReview/'+_this.props.match.params.itemId,data:{user:_this.state.user_name,reviewText:_this.state.message,rating:_this.state.rating}}).then(function(response){console.log(\"Data: \",response.data);this.setState({reviewText:response.data.message});}).catch(function(error){if(error.response){console.log(error.response.data);}});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={dateTime:new Date().toDateString(),message:'',rating:'',user_name:'',email:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(AddReview,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var that;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:that=this;_context2.next=3;return axios({method:\"get\",url:'https://localhost:3001/api/products/get/'+this.props.match.params.itemId}).then(function(response){that.setState({name:response.data.name,image:\"data:image/png;base64,\"+response.data.imageUrl[0].image,itemId:response.data.itemId});}).catch(function(error){if(!error.data){console.log(error.data);}console.log(error);});case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var reviewStars=this.state.reviewStars;var options=[{label:\"1\",value:\"1\"},{label:\"2\",value:\"2\"},{label:\"3\",value:\"3\"},{label:\"4\",value:\"4\"},{label:\"5\",value:\"5\"}];return/*#__PURE__*/_jsx(\"div\",{className:\"review\",children:/*#__PURE__*/_jsx(\"div\",{className:\"productContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[\"Add review for item \",this.state.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user_name\",onChange:this.handleChange,placeholder:\"Your name\",className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",children:\"Your E-mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"text\",onChange:this.handleChange,placeholder:\"Your email\",className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",children:\"Your message\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",onChange:this.handleChange,name:\"message\",placeholder:\"Please enter your feedback here...\",rows:\"5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-9 control-label\",htmlFor:\"message\",children:\"Your rating\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9 flex-column\",children:/*#__PURE__*/_jsx(\"select\",{name:\"rating\",className:\"star_rate\",value:reviewStars,onChange:this.handleChange,children:options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value);})})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Send review\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"fit-contain\",src:this.state.image,alt:\"picture of product\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-dark\",children:\"Back\"})]})]})})});}}]);return AddReview;}(Component);export{AddReview as default};","map":{"version":3,"sources":["C:/Users/Tanja Aakerholt/Documents/GitHub/portfolio2/client/src/Components/Products/addReview.jsx"],"names":["React","Component","axios","Link","AddReview","props","handleChange","event","target","value","name","setState","handleSubmit","preventDefault","that","method","url","match","params","itemId","data","user","state","user_name","reviewText","message","rating","then","response","console","log","catch","error","dateTime","Date","toDateString","email","bind","image","imageUrl","reviewStars","options","label","map","option"],"mappings":"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","sourcesContent":["import React, {Component,} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport default class AddReview extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dateTime: (new Date()).toDateString(),\r\n            message: '',\r\n            rating: '',\r\n            user_name: '',\r\n            email: '',\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange = event => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const that = this;\r\n        await axios({\r\n            method: 'post',\r\n            url: '/api/products/addReview/'+this.props.match.params.itemId,\r\n            data: {\r\n                user: this.state.user_name,\r\n                reviewText: this.state.message,\r\n                rating: this.state.rating,\r\n            }\r\n        }).then(function(response){\r\n            console.log(\"Data: \", response.data);\r\n            this.setState({reviewText: response.data.message})\r\n        }).catch(function (error){\r\n            if (error.response){\r\n                console.log(error.response.data);\r\n            }\r\n        })\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const that = this;\r\n        await axios({\r\n            method: \"get\",\r\n            url: 'https://localhost:3001/api/products/get/'+this.props.match.params.itemId,\r\n        }).then(function (response) {\r\n            that.setState({name: response.data.name,\r\n                image: \"data:image/png;base64,\"+response.data.imageUrl[0].image,\r\n                itemId: response.data.itemId});\r\n        }).catch(function (error) {\r\n            if (!error.data) {\r\n                console.log(error.data)\r\n            }\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n    render() {\r\n    const { reviewStars } = this.state;\r\n    const options = [\r\n        {\r\n            label: \"1\",\r\n            value: \"1\",\r\n        }, {\r\n            label: \"2\",\r\n            value: \"2\",\r\n        }, {\r\n            label: \"3\",\r\n            value: \"3\",\r\n        }, {\r\n            label: \"4\",\r\n            value: \"4\",\r\n        }, {\r\n            label: \"5\",\r\n            value: \"5\",\r\n        }\r\n    ];\r\n    return(\r\n        <div className=\"review\">\r\n        <div className=\"productContainer\">\r\n                                <div className=\"row\">\r\n                                <div className=\"col-lg-5\">\r\n                                    <div className=\"card-header\">Add review for item {this.state.name}</div>\r\n                                    <div className=\"card-body\">\r\n                                    <form onSubmit={this.handleSubmit}>\r\n                                        <fieldset>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Full\r\n                                                    Name</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <input type=\"text\" name=\"user_name\" onChange={this.handleChange} placeholder=\"Your name\"\r\n                                                           className=\"form-control\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Your\r\n                                                    E-mail</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <input name=\"email\" type=\"text\" onChange={this.handleChange} placeholder=\"Your email\"\r\n                                                           className=\"form-control\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\">Your\r\n                                                    message</label>\r\n                                                <div className=\"col-md-9\">\r\n                                                    <textarea className=\"form-control\" onChange={this.handleChange} name=\"message\"\r\n                                                              placeholder=\"Please enter your feedback here...\"\r\n                                                              rows=\"5\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"col-md-9 control-label\" htmlFor=\"message\">Your\r\n                                                    rating</label>\r\n                                                <div className=\"col-md-9 flex-column\">\r\n                                                    <select name=\"rating\" className=\"star_rate\" value={reviewStars}\r\n                                                            onChange={this.handleChange}>\r\n                                                            {options.map((option) => (\r\n                                                                <option key={option.value} value={option.value}>\r\n                                                                    {option.label}</option>\r\n                                                            ))}\r\n                                                    </select>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                            <button type=\"submit\" className=\"btn btn-success\">Send review</button>\r\n                                        </fieldset>\r\n                                    </form>\r\n                                </div>\r\n                                </div>\r\n                                <div className=\"col-lg-5\">\r\n                                    <div className=\"card-img\">\r\n                                    <img className=\"fit-contain\" src={this.state.image} alt = \"picture of product\"/>\r\n                                    </div>\r\n                                    <Link to=\"/\" className=\"btn btn-dark\">Back</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}
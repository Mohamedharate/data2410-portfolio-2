{"ast":null,"code":"var _jsxFileName = \"/home/group16/data2410-portfolio-2/client/src/Components/Products/productpage.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport { Button } from 'react-bootstrap';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport InputSpinner from \"react-bootstrap-input-spinner\";\nimport LoadingSpinnerSuccessLongBtn from \"../Spinners/LoadingSpinnerSuccessLongBtn\";\nimport LoadingSpinnerLargeSuccess from \"../Spinners/LoadingSpinnerLargeSuccess\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Productpage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      this.setState({\n        loading_photo: true\n      });\n      await axios({\n        method: \"get\",\n        url: 'https://localhost:3001/api/products/get/' + this.props.itemId\n      }).then(response => {\n        this.setState({\n          product: response.data,\n          price: response.data.price,\n          quantityOfProduct: response.data.quantity\n        });\n      }).catch(error => {\n        if (!error.data) {\n          console.log(error.data);\n        }\n\n        console.log(error);\n      });\n      this.setState({\n        loading_photo: false\n      });\n    };\n\n    this.postToCart = async event => {\n      event.preventDefault();\n      this.setState({\n        toggle_loading: true\n      });\n      await axios({\n        method: \"post\",\n        url: 'https://localhost:3001/api/cart/addToCart/',\n        data: {\n          product_id: this.state.product.itemId,\n          quantity: this.state.quantity\n        }\n      }).then(response => {\n        this.props.handleAddToCartCallback(this.state.product, this.state.quantity);\n      }).catch(error => {\n        if (error.response) {\n          console.log(error.response);\n        } else if (error.request) {\n          console.log(error.request);\n        }\n      });\n      this.setState({\n        toggle_loading: false\n      });\n    };\n\n    this.state = {\n      descriptionLong: \"\",\n      toggle_loading: false,\n      loading_photo: false\n    };\n    this.state = {\n      product: [],\n      quantity: 1,\n      price: 0,\n      quantityOfProduct: 0,\n      price_mapped: 0,\n      reviews: []\n    };\n  }\n\n  render() {\n    const {\n      product,\n      price\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"my-4\",\n            children: \"ShopMet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-group\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"list-group-item\",\n              style: {\n                color: \"black\"\n              },\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-img-top\",\n              style: {\n                height: 600\n              },\n              children: this.state.loading_photo ? /*#__PURE__*/_jsxDEV(LoadingSpinnerLargeSuccess, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 61\n              }, this) : /*#__PURE__*/_jsxDEV(Carousel, {\n                autoPlay: \"true\",\n                showThumbs: false,\n                infiniteLoop: \"true\",\n                children: product.imageUrl && product.imageUrl.map((img, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"fit-contain\",\n                    src: `data:img/${img.contentType};base64,${img.image.toString(\"base64\")}`,\n                    height: 600,\n                    alt: \"Carousel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 49\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"card-title\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), Object.values(price).map(price_mapped => /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"price\",\n                children: [\"$\", price_mapped]\n              }, \"p\", true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 78\n              }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: product.descriptionLong\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [this.state.quantityOfProduct, \" left in stock\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: '100px',\n                    height: 'auto'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(InputSpinner, {\n                    className: \"InputSpinner\",\n                    type: \"number\",\n                    size: 'sm',\n                    variant: 'dark',\n                    value: this.state.quantity,\n                    min: 1,\n                    onChange: qty => this.setState({ ...this.state,\n                      quantity: qty\n                    }),\n                    max: this.state.quantityOfProduct,\n                    label: \"Quantity\",\n                    precision: 1,\n                    step: 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 37\n                }, this), this.state.toggle_loading ? /*#__PURE__*/_jsxDEV(LoadingSpinnerSuccessLongBtn, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 66\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  style: {\n                    padding: '0 10px',\n                    marginLeft: '20px',\n                    width: '50%',\n                    fontSize: 'large'\n                  },\n                  variant: \"success\",\n                  onClick: this.postToCart,\n                  children: \"Add to cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-outline-secondary my-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: \"Product Reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [product.reviews && product.reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"review\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"review_text\",\n                  children: review.reviewText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 41\n                }, this), review.rating ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"star-ratings\",\n                  children: [review.rating, \" stars\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 58\n                }, this) : \"\", /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: [\"Posted by \", review.user, \" on \", review.Date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 41\n                }, this)]\n              }, review.Time, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 37\n              }, this)), /*#__PURE__*/_jsxDEV(Link, {\n                to: '/addReview/' + product.itemId,\n                className: \"btn btn-success\",\n                children: \"Leave a Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/group16/data2410-portfolio-2/client/src/Components/Products/productpage.jsx"],"names":["React","Component","axios","Link","Carousel","Button","InputSpinner","LoadingSpinnerSuccessLongBtn","LoadingSpinnerLargeSuccess","Productpage","constructor","props","componentDidMount","setState","loading_photo","method","url","itemId","then","response","product","data","price","quantityOfProduct","quantity","catch","error","console","log","postToCart","event","preventDefault","toggle_loading","product_id","state","handleAddToCartCallback","request","descriptionLong","price_mapped","reviews","render","color","height","imageUrl","map","img","index","contentType","image","toString","name","Object","values","display","width","qty","padding","marginLeft","fontSize","review","reviewText","rating","user","Date","Time"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport {Link} from \"react-router-dom\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport { Button} from 'react-bootstrap';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport InputSpinner from \"react-bootstrap-input-spinner\";\nimport LoadingSpinnerSuccessLongBtn from \"../Spinners/LoadingSpinnerSuccessLongBtn\";\nimport LoadingSpinnerLargeSuccess from \"../Spinners/LoadingSpinnerLargeSuccess\";\n\n\nexport default class Productpage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {descriptionLong: \"\", toggle_loading: false, loading_photo: false};\n        this.state = {product: [], quantity: 1, price: 0, quantityOfProduct: 0, price_mapped: 0, reviews: []};\n    }\n\n    componentDidMount = async() => {\n        this.setState({loading_photo: true})\n        await axios({\n            method: \"get\",\n            url: 'https://localhost:3001/api/products/get/'+this.props.itemId,\n        }).then(response => {\n            this.setState({\n                product: response.data, price: response.data.price, quantityOfProduct: response.data.quantity\n            });\n        }).catch(error => {\n            if (!error.data) {\n                console.log(error.data)\n            }\n            console.log(error);\n        });\n        this.setState({loading_photo: false})\n    };\n\n\n    postToCart = async (event) => {\n        event.preventDefault();\n        this.setState({toggle_loading: true})\n        await axios({\n            method: \"post\",\n            url: 'https://localhost:3001/api/cart/addToCart/',\n            data: {product_id: this.state.product.itemId, quantity: this.state.quantity}\n        }).then(response => {\n            this.props.handleAddToCartCallback(this.state.product, this.state.quantity);\n        }).catch(error => {\n            if(error.response){\n                console.log(error.response)\n            }else if (error.request) {\n                console.log(error.request);\n            }\n        })\n        this.setState({toggle_loading: false});\n    }\n\n    render() {\n        const {product,price} = this.state;\n        return (\n            <div className=\"productContainer\">\n                <div className=\"row\">\n                    <div className={\"col-lg-1\"}>\n\n                    </div>\n                    <div className=\"col-lg-3\">\n                        <h1 className=\"my-4\">ShopMet</h1>\n                        <div className=\"list-group\">\n                            <Link to=\"/\" className=\"list-group-item\" style={{color: \"black\"}}>Back</Link>\n                        </div>\n                </div>\n                    <div className=\"col-lg-6\">\n                        <div className=\"card mt-4\">\n                            <div className=\"card-img-top\" style={{height: 600}}>\n                                {this.state.loading_photo ? <LoadingSpinnerLargeSuccess/> :\n                                    <Carousel autoPlay=\"true\" showThumbs={false} infiniteLoop=\"true\">\n                                        {product.imageUrl &&\n                                        product.imageUrl.map((img, index) => (\n                                            <div key={index}>\n                                                <img className=\"fit-contain\"\n                                                     src={`data:img/${img.contentType};base64,${img.image.toString(\"base64\")}`}\n                                                     height={600}\n                                                 alt=\"Carousel\"/>\n                                            </div>\n                                        ))\n                                        }\n                                    </Carousel>\n                                }\n                            </div>\n                            <div className=\"card-body\">\n                                <h3 className=\"card-title\">{product.name}</h3>\n                                {Object.values(price).map((price_mapped) => (<h4 className=\"price\" key=\"p\">${price_mapped}</h4>))}\n\n                                <p className=\"card-text\">{product.descriptionLong}</p>\n                                <p className=\"card-text\">{this.state.quantityOfProduct} left in stock</p>\n                                <div style={{display: 'flex'}}>\n                                    <div style={{width: '100px', height:'auto'}}>\n                                        <InputSpinner\n                                            className=\"InputSpinner\"\n                                            type=\"number\" size ={'sm'} variant={'dark'}\n                                            value={this.state.quantity} min={1}\n                                            onChange={(qty) => this.setState({...this.state, quantity: qty})}\n                                            max={this.state.quantityOfProduct} label=\"Quantity\"  precision={1} step={1}/>\n                                    </div>\n                                    {this.state.toggle_loading ? <LoadingSpinnerSuccessLongBtn/> :\n                                        <Button type=\"submit\" style={{ padding: '0 10px', marginLeft: '20px', width: '50%', fontSize: 'large'}} variant=\"success\"\n                                                onClick={this.postToCart}>Add to cart</Button>}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card card-outline-secondary my-4\">\n                            <div className=\"card-header\">Product Reviews</div>\n                            <div className=\"card-body\">\n                                {product.reviews && product.reviews.map(review => (\n                                    <div key={review.Time} className=\"review\">\n                                        <p className=\"review_text\">{review.reviewText}</p>\n                                        {review.rating ? <p className=\"star-ratings\">{review.rating} stars</p>: \"\"}\n                                        <small className=\"text-muted\">Posted by {review.user} on {review.Date}</small>\n                                        <hr/>\n                                    </div>\n                                    ))}\n                                <Link to={'/addReview/' + product.itemId} className=\"btn btn-success\">Leave a\n                                    Review</Link>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-lg-1\"}>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}
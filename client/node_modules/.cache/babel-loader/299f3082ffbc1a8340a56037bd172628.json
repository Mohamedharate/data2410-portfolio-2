{"ast":null,"code":"import _regeneratorRuntime from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{Alert}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Orders=/*#__PURE__*/function(_Component){_inherits(Orders,_Component);var _super=_createSuper(Orders);function Orders(props){var _this;_classCallCheck(this,Orders);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"get\",url:'http://localhost:3001/api/orders/getUserOrders/'+_this.props.current_user.email}).then(function(response){_this.setState({orders:response.data,order_id:response.data.orders._id});}).catch(function(error){console.log(error.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));_this.toggleEditProfile=function(){_this.setState({toggle_edit_profile:true,toggle_previous_orders:false});};_this.toggleOrders=function(){_this.setState({toggle_edit_profile:false,toggle_previous_orders:true});};_this.state={user:\"\",orders:[],order_id:0};return _this;}_createClass(Orders,[{key:\"render\",value:function render(){var orders=this.state.orders;return/*#__PURE__*/_jsx(\"div\",{className:\"orderContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2 bg-secondary text-center fillColumn\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleEditProfile,className:\"btn btn-light btn-md m-2\",children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleOrders,className:\"btn btn-light btn-md m-2\",children:\"Previous Orders\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-header\",children:\"Previous orders\"}),!this.state.orders.products&&/*#__PURE__*/_jsx(Alert,{color:\"info\",children:\"You have no orders. Go shopping!\"}),this.state.orders.products&&/*#__PURE__*/_jsxs(Alert,{color:\"info\",children:[\"You are logged in as \",this.state.orders.firstName,\". Here are your orders:\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:orders&&[orders].map(function(order,index){return/*#__PURE__*/_jsx(\"div\",{children:order.products&&[order.products].map(function(o,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Price: $\",o.total]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Date: \",o.date]})]},i);})},index);})})})]})]})});}}]);return Orders;}(Component);export default Orders;","map":{"version":3,"sources":["C:/OsloMet/2020-2021/Datanettverk/portfolio2-group7/client/src/Components/orders.jsx"],"names":["React","Component","Fragment","axios","Link","Alert","Orders","props","componentDidMount","method","url","current_user","email","then","response","setState","orders","data","order_id","_id","catch","error","console","log","toggleEditProfile","toggle_edit_profile","toggle_previous_orders","toggleOrders","state","user","products","firstName","map","order","index","o","i","total","date"],"mappings":"mhCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,KAAR,KAAoB,iBAApB,C,2FAEMC,CAAAA,M,gGAEF,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EADe,MAKnBC,iBALmB,sEAKC,yJACVL,CAAAA,KAAK,CAAC,CACRM,MAAM,CAAE,KADA,CAERC,GAAG,CAAE,kDAAkD,MAAKH,KAAL,CAAWI,YAAX,CAAwBC,KAFvE,CAAD,CAAL,CAGHC,IAHG,CAGE,SAAAC,QAAQ,CAAI,CAChB,MAAKC,QAAL,CAAc,CACVC,MAAM,CAAEF,QAAQ,CAACG,IADP,CACaC,QAAQ,CAAEJ,QAAQ,CAACG,IAAT,CAAcD,MAAd,CAAqBG,GAD5C,CAAd,EAEH,CANK,EAMHC,KANG,CAMG,SAAUC,KAAV,CAAgB,CACrBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACJ,IAAlB,EACH,CARK,CADU,uDALD,SAgBnBO,iBAhBmB,CAgBC,UAAM,CACtB,MAAKT,QAAL,CAAc,CACVU,mBAAmB,CAAE,IADX,CAEVC,sBAAsB,CAAE,KAFd,CAAd,EAIH,CArBkB,OAsBnBC,YAtBmB,CAsBJ,UAAM,CACjB,MAAKZ,QAAL,CAAc,CACVU,mBAAmB,CAAE,KADX,CAEVC,sBAAsB,CAAE,IAFd,CAAd,EAIH,CA3BkB,CAEf,MAAKE,KAAL,CAAa,CAACC,IAAI,CAAE,EAAP,CAAWb,MAAM,CAAE,EAAnB,CAAuBE,QAAQ,CAAE,CAAjC,CAAb,CAFe,aAGlB,C,yCA0BD,iBAAS,CACL,GAAOF,CAAAA,MAAP,CAAiB,KAAKY,KAAtB,CAAOZ,MAAP,CACA,mBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,aAAK,SAAS,CAAC,8CAAf,wBACI,eAAQ,OAAO,CAAE,KAAKQ,iBAAtB,CAAyC,SAAS,CAAC,0BAAnD,0BADJ,cAII,eAAQ,OAAO,CAAE,KAAKG,YAAtB,CAAoC,SAAS,CAAC,0BAA9C,6BAJJ,GADJ,cASQ,aAAK,SAAS,CAAC,WAAf,wBACA,WAAI,SAAS,CAAC,aAAd,6BADA,CAEC,CAAC,KAAKC,KAAL,CAAWZ,MAAX,CAAkBc,QAAnB,eACD,KAAC,KAAD,EAAO,KAAK,CAAC,MAAb,8CAHA,CAIC,KAAKF,KAAL,CAAWZ,MAAX,CAAkBc,QAAlB,eACD,MAAC,KAAD,EAAO,KAAK,CAAC,MAAb,mCAA0C,KAAKF,KAAL,CAAWZ,MAAX,CAAkBe,SAA5D,6BALA,cAMA,WAAI,SAAS,CAAC,YAAd,uBACA,WAAI,SAAS,CAAC,iBAAd,UACKf,MAAM,EACP,CAACA,MAAD,EAASgB,GAAT,CAAa,SAACC,KAAD,CAAQC,KAAR,CAAkB,CAC/B,mBACI,qBACKD,KAAK,CAACH,QAAN,EACD,CAACG,KAAK,CAACH,QAAP,EAAiBE,GAAjB,CAAqB,SAACG,CAAD,CAAIC,CAAJ,CAAU,CAC3B,mBACI,oCACI,iCAAaD,CAAC,CAACE,KAAf,GADJ,cAEI,+BAAWF,CAAC,CAACG,IAAb,GAFJ,GAAUF,CAAV,CADJ,CAMX,CAPO,CAFJ,EAAUF,KAAV,CADJ,CAaP,CAdO,CAFJ,EADA,EANA,GATR,GADJ,EADJ,CA0CH,C,oBA3EgBjC,S,EAgFrB,cAAeK,CAAAA,MAAf","sourcesContent":["import React, {Component, Fragment} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\nclass Orders extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {user: \"\", orders: [], order_id: 0};\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        await axios({\r\n            method: \"get\",\r\n            url: 'http://localhost:3001/api/orders/getUserOrders/'+this.props.current_user.email,\r\n        }).then(response => {\r\n            this.setState({\r\n                orders: response.data, order_id: response.data.orders._id,});\r\n        }).catch(function (error){\r\n            console.log(error.data)\r\n        });\r\n    }\r\n    toggleEditProfile = () => {\r\n        this.setState({\r\n            toggle_edit_profile: true,\r\n            toggle_previous_orders: false,\r\n        })\r\n    };\r\n    toggleOrders = () => {\r\n        this.setState({\r\n            toggle_edit_profile: false,\r\n            toggle_previous_orders: true,\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const {orders} = this.state;\r\n        return(\r\n            <div className=\"orderContainer\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-2 bg-secondary text-center fillColumn\">\r\n                        <button onClick={this.toggleEditProfile} className=\"btn btn-light btn-md m-2\">\r\n                            Edit Profile\r\n                        </button>\r\n                        <button onClick={this.toggleOrders} className=\"btn btn-light btn-md m-2\">\r\n                            Previous Orders\r\n                        </button>\r\n                    </div>\r\n                        <div className=\"col-md-10\">\r\n                        <h3 className=\"card-header\">Previous orders</h3>\r\n                        {!this.state.orders.products &&\r\n                        <Alert color=\"info\">You have no orders. Go shopping!</Alert>}\r\n                        {this.state.orders.products &&\r\n                        <Alert color=\"info\">You are logged in as {this.state.orders.firstName}. Here are your orders:</Alert>}\r\n                        <ul className=\"list-group\">\r\n                        <li className=\"list-group-item\">\r\n                            {orders &&\r\n                            [orders].map((order, index) => {\r\n                            return(\r\n                                <div key={index}>\r\n                                    {order.products &&\r\n                                    [order.products].map((o, i) => {\r\n                                        return(\r\n                                            <div key={i}>\r\n                                                <h6>Price: ${o.total}</h6>\r\n                                                <h6>Date: {o.date}</h6>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                        )\r\n                    })}\r\n                </li>\r\n                </ul>\r\n            </div>\r\n\r\n            </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Orders"]},"metadata":{},"sourceType":"module"}